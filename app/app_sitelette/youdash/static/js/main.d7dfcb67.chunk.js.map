{"version":3,"sources":["hooks/user/useAuthActions.js","components/Shared/Container/Container.js","hooks/usePreventOrdering.js","components/Shared/ImagePlaceholder/ImagePlaceholder.js","hooks/user/useGetUserSASLSummary.js","hooks/usePickUpSelectors.js","components/Shared/PickUpSelectors/PickUpSelectors.js","config/constants.js","utils/helpers.js","redux/slices/business.js","redux/slices/globalError.js","redux/store.js","components/Home/Hero/Hero.js","components/Home/Greetings/Greetings.js","components/Home/PickUp/PickUp.js","components/Home/Loyalty/ChevronRight.js","components/Home/Loyalty/Loyalty.js","components/Home/Groups/ProductCard/ProductCard.js","components/Home/Groups/Groups.js","components/Home/MyPastOrders/MyPastOrders.js","components/Home/Cart/Cart.js","components/Home/LastOrderStatus/LastOrderStatus.js","components/Home/PriorityCard/PriorityCard.js","components/Home/Home.js","pages/index.js","components/Layout/Header/Header.js","config/routes.js","components/Layout/Drawer/Menu.js","components/Layout/Drawer/Drawer.js","components/Shared/PageLoader/PageLoader.js","components/Layout/Page404/Page404.js","components/Layout/Layout.js","hooks/useDrawer.js","hooks/data-loaders/useBusinessData.js","hooks/useDiscounts.js","hooks/order-details/useTableOrder.js","hooks/useGlobalErrorMessage.js","routes/ProtectedRoute/ProtectedRoute.js","routes/PublicRoute/PublicRoute.js","components/Checkout/CheckoutLoading.js","components/Checkout/CheckoutIFrameRedirect.js","routes/SuspenseFallback/SuspenseFallback.js","routes/index.js","App.js","serviceWorker.js","index.js","services/request.js","components/Shared/Card/Card.js","redux/slices/shoppingCart.js","redux/slices/auth.js","services/api.js","redux/slices/loyaltyAndOrderHistory.js","hooks/user/useUserCookie.js"],"names":["dispatch","useDispatch","useUserCookie","removeCookie","userid","password","loginRequest","logout","resetData","Container","children","className","businessData","serviceStatus","useState","preventOrdering","setPreventOrdering","useEffect","serviceStatuses","CALL_AHEAD","CLOSED","ImagePlaceholder","initLoad","userCookie","setCookie","useAuthActions","logOut","loyaltyAndOrderHistory","useSelector","state","data","user","auth","loading","business","serviceAccommodatorId","serviceLocationId","authenticationStatus","reloadData","getCommunityExpressUserSASLSummaryRequest","UID","then","payload","error","authenticationDetails","loyaltyOrderHistoryForUser","notification","priority","pollResults","userRegistrationDetails","action","welcomeMessage","enumText","login","console","log","setAuthenticationStatus","setLoyaltyAndOrderHistoryData","uid","dayOptions","setDayOptions","timeOptions","setTimeOptions","orderPickUp","shoppingCart","pickUpTimes","pickUp","futureDays","timeZone","address","handleOrderPickUp","setOrderPickUp","handleDayChange","value","opts","updateTimeOptions","time","length","day","dayValue","tmpOpts","map","timeValue","hours","minutes","pickUpDay","date","changeTimezone","Date","setHours","setMinutes","options","hour","minute","hour12","dateToCompare","isToday","toLowerCase","differenceInMinutes","label","toLocaleString","addLeadingZero","getTimeString","push","filter","status","displayText","dayOfWeek","today","d","Option","AntDSelect","PickUpSelectors","usePickUpSelectors","onTimeChange","onDayChange","placeholder","defaultValue","onChange","i","key","notFoundContent","USER_COOKIE","discountTypes","DISCOUNT","PROMOTION","LOYALTY_STATUS","GROUP_DISCOUNT","amountTypes","PERCENT","EXACT","AMOUNT","paymentProcessors","VANTIV_HID","userSASLSummaryPriorities","NONE","NOTIFICATION","HIGHLIGHTED_ITEM","POLL","googleMapAPIKey","handleNativeShare","shareData","a","undefined","navigator","share","scrollToElement","el","offset","window","scrollTo","y","getBoundingClientRect","top","pageYOffset","behavior","getQueryStringParams","URLSearchParams","location","search","getMediaImageUrl","mediaURLs","formatAddress","city","number","country","street","zip","locale","formatGMapAddress","pad","n","getDayNameByIndex","index","getDay","floatNum","num","parseFloat","toFixed","getPercent","total","calculateDiscountedPrice","type","discount","price","result","itemShape","itemId","itemVersion","priceId","quantity","comment","groupId","catalogId","intraOrderAssociationTag","intraOrderQuantity","wasCustomized","customizedPrice","discountedPrice","userSASLid","deliveryType","itemOptions","itemDate","delayedFire","hint","finalPriceCharged","compPrice","invoiceType","invoiceStatus","itemizedTax","ageVerified","cartEntryId","sentTimeToKitchen","formatOrderData","items","loyaltyStatus","itemsWithDiscounts","itemsWithGroupDiscounts","futureOrRegular","requestedDeliveryDate","subTotal","totalAmount","tipAmount","taxAmount","tablePath","transactionData","authorizationsAndDiscounts","authorizations","discounts","promotions","Object","keys","discountItem","discountType","priceItem","transactionDataFields","paymentProcessor","cashSelected","creditCardSelected","orderUUID","orderId","cyclicOrderIdInt","cyclicOrderId","transactionId1","hostedPaymentStatus","transactionId2","transactionID","transactionId3","expressResponseCode","transactionId4","expressResponseMessage","transactionId5","CVVResponseCode","transactionId6","approvalNumber","transactionId7","lastFour","transactionId8","cardLogo","transactionId9","approvedAmount","userName","userLevel","adHoc","item","comments","JSON","stringify","itemOptionsString","deliveryContactName","deliveryPhone","deliveryEmail","deliveryAddress","orderType","firstName","lastName","tagORTableNumber","customerEnteredName","customerEnteredMobile","pickupSelected","deliverySelected","levelId","zoneId","tableId","pagerDetails","secretComment","stationId","pricePaid","Math","abs","invoicePaid","invoiceTotal","invoiceClaimed","currencyCode","addExtraFeeToTotalAmount","extraFeeLabel","extraFeeType","extraFeeValue","calculatedExtraFeeValue","v_acceptorId","v_accountId","v_accountToken","vantivReturnURL","vantivCSS","maskedAccountNumber","cardHolderName","invoiceId","paymentDetails1","paymentDetails2","paymentDetails3","paymentDetails4","paymentDetails5","transactionId10","transactionId11","transactionId12","transactionId13","transactionId14","transactionId15","transactionId16","transactionId17","transactionId18","transactionId19","transactionId20","saveCreditCardForFutureReference","fundSourceId","creditCard","billingAddress","cardReaderType","taxRate","cashTendered","idAdhocOrderInvoiceParent","discountMetaDataShape","promoCode","activationDate","expirationDate","maxUseCount","discountUUID","minimumPurchase","maximumDiscount","acceptablePaymentType","title","description","imageURL","imageWidth","imageHeight","applicableCatalog","applicableGroup","applicableItemId","applicableItemVersion","applicableePriceId","applicationType","shareDiscountURL","onClickURL","qrCodeURL","policyString","applicableItemUUID","discountPurposeType","saslTimeZone","timeZoneId","discountState","id","transformPromotionToDiscount","promotion","promoPrice","uuid","transformLoyaltyToDiscount","loyalty","loyaltyUUID","formatPhoneNumber","phoneNumberString","match","replace","extractItemNames","subOptions","list","subSubItems","s","isSelected","subSubItemName","getSubItemsString","subItemsLeft","subItems","output","join","mapGroups","groupsSrc","groups","itemsById","groupsById","g","groupType","indexInCatalog","groupDisplayText","itemsObject","itemsArray","thumbnailBase64","rest","canSplitLeftRight","hasVersions","itemVersions","restItem","mapUnSubgroupedItems","unSubgroupedItems","mapMobileOrderStatuses","mobileOrderStatuses","statuses","mobileDisplayText","mapBusinessData","urlKey","siteletteDataModel","sasl","saslName","themeColors","appleTouchIcon192URL","services","latitude","longitude","ogTags","saBannerImageURL","defaultImageURL","extraFees","loyaltyProgram","loyaltyProgramData","openingHours","catalogs","validOneDayOnlyFalse","isValidOneDayOnly","hasGroupsBasedOnDay","catalog","validOneDayOnly","days","validDay","getCatalog","isOpen","isOpenWarningMessage","tips","onlineOrder","payment","acceptCreditCards","mapCoordinates","shiftPolicies","isDemo","saslIcon","bannerImageURL","getBusinessData","createAsyncThunk","businessAPI","response","businessSlice","createSlice","name","initialState","telephoneNumber","street2","reducers","updateGroups","hydrateBusinessData","businessUrlKey","extraReducers","pending","fulfilled","rejected","message","actions","businessReducer","reducer","globalErrorSlice","errorMessage","resetGlobalErrorMessage","builder","addMatcher","endsWith","globalErrorReducer","middleware","getDefaultMiddleware","store","configureStore","authReducer","shoppingCartReducer","loyaltyAndOrderHistoryReducer","globalError","Hero","memo","src","alt","propTypes","imageUrl","PropTypes","string","iconUrl","Greetings","notificationBody","Card","style","backgroundImage","PickUp","setDeliveryType","openStatus","setOpenStatus","setToday","usePreventOrdering","openClosingDateTime","weekDayPolicies","weekDayPolicy","timezone","closingDate","openDate","timeRange","endClock","startClock","close","open","getOpenClosingDateTime","nowDate","Group","e","target","disabled","startMin","endMin","formatTime","ChevronRight","height","width","Loyalty","loyaltyForUser","hasLoyaltyProgram","programName","itemName","currentCount","triggerCount","applyDiscount","Array","fill","v","ProductCard","shortDescription","longDescription","useParams","useLocation","styleProps","backgroundPosition","to","TabPane","Tabs","stickybits","noStyles","Groups","activeKey","setActiveKey","resizeTab","onTabClick","tab","product","productIndex","MyPastOrders","Cart","itemsCount","history","useHistory","size","block","onClick","LastOrderStatus","order","orderHistory","orderStatus","PriorityCard","Home","shoppingCartItemsCount","shoppingCartPrice","HomePage","shoppingCartItems","priceSubTotal","MenuIcon","onBack","isHome","Header","routes","path","authRequired","SubMenu","Menu","MainMenu","onClose","onLogout","menuItems","icon","onClickAction","mode","props","subIndex","Item","Drawer","onOpen","onLogin","placement","closable","visible","getContainer","position","PageLoader","Page404","Layout","pathname","openDrawer","setOpenDrawer","indexOf","useDrawer","handleOpen","handleClose","handleGoBack","logIn","isLoadedFromClient","setIsLoadedFromClient","__SASL_DATA__","document","querySelector","setAttribute","clearCart","useBusinessData","useGetUserSASLSummary","allDiscounts","byId","handleDiscount","addItemToCart","addDiscount","addGroupDiscount","addCartItem","success","urlParams","get","promotionItem","transformedPromotion","transformedLoyalty","useDiscounts","setTablePath","useTableOrder","globalErrorMsg","msgInstance","setMsgInstance","destroy","useGlobalErrorMessage","React","cloneElement","ProtectedRoute","Component","component","useReactCookie","cookies","render","params","from","PublicRoute","CheckoutLoading","CheckoutIFrameRedirect","setPaymentStatus","self","inIframe","postMessage","origin","SuspenseFallback","OrderDetailsPage","lazy","OrderHistoryPage","ProductItemPage","ShoppingCartItemPage","UserSettingsPage","OrderStatusPage","SignUpPage","LoginPage","Routes","fallback","App","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","StrictMode","getElementById","URL","process","href","addEventListener","fetch","headers","contentType","ready","unregister","reload","checkValidServiceWorker","server","demo","throwError","has","baseUrl","request","axios","create","baseURL","interceptors","use","url","Promise","reject","allIds","groupDiscounts","createOrder","orderData","orderAPI","shoppingCartSlice","editCartItem","itemIndex","deleteCartItem","splice","resetOrderError","addCase","updateDiscounts","itemDiscount","isGroupDiscount","promoCodeTitle","checkAllowApplyDiscount","itemDiscountKey","reduce","b","credentials","authAPI","registerNewMemberRequest","registerNewMember","updateEmailMobileNamesForUserRequest","updateEmailMobileNamesForUser","getRegistrationStatus","getCommunityExpressUserSASLSummary","authSlice","getOpeningHours","method","withCredentials","getOrderStatus","paymentAPI","getTransactionSetupID","crossDomain","loyaltyAndOrderHistorySlice","cookieSettings","domain","expires","setFullYear","getFullYear"],"mappings":"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","file":"static/js/main.d7dfcb67.chunk.js","sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\r\nimport { loginRequest, logout } from '../../redux/slices/auth';\r\nimport { resetData } from '../../redux/slices/loyaltyAndOrderHistory';\r\n\r\nimport useUserCookie from './useUserCookie';\r\nexport default () => {\r\n  const dispatch = useDispatch();\r\n  const [cookies, setCookie, removeCookie] = useUserCookie();\r\n\r\n  const logIn = ({ userid, password }) => {\r\n    return dispatch(\r\n      loginRequest({\r\n        userid,\r\n        password\r\n      })\r\n    );\r\n  };\r\n  const logOut = () => {\r\n    removeCookie();\r\n    dispatch(logout());\r\n    dispatch(resetData());\r\n  };\r\n\r\n  return [logIn, logOut];\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Container.css';\r\nexport const Container = ({ children, className }) => (\r\n  <div className={`container ${className}`}>{children}</div>\r\n);\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.any.isRequired\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport { serviceStatuses } from '../config/constants';\r\n\r\nexport default (businessData) => {\r\n  const { serviceStatus } = businessData;\r\n  const [preventOrdering, setPreventOrdering] = useState(false);\r\n  useEffect(() => {\r\n    setPreventOrdering(\r\n      serviceStatus &&\r\n        (serviceStatus === serviceStatuses.CALL_AHEAD || serviceStatus === serviceStatuses.CLOSED)\r\n    );\r\n  }, [serviceStatus]);\r\n  return [preventOrdering];\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './ImagePlaceholder.css';\r\nexport const ImagePlaceholder = ({ children }) => (\r\n  <div className=\"image-placeholder-bg\">{children}</div>\r\n);\r\n\r\nImagePlaceholder.propTypes = {\r\n  children: PropTypes.any\r\n};\r\n","import { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport {\r\n  setAuthenticationStatus,\r\n  getCommunityExpressUserSASLSummaryRequest,\r\n  login\r\n} from '../../redux/slices/auth';\r\nimport { setLoyaltyAndOrderHistoryData } from '../../redux/slices/loyaltyAndOrderHistory';\r\nimport { useEffect } from 'react';\r\n\r\nimport useAuthActions from './useAuthActions';\r\nimport useUserCookie from './useUserCookie';\r\n\r\n\r\nexport default (initLoad = false) => {\r\n  const dispatch = useDispatch();\r\n  const [userCookie, setCookie] = useUserCookie();\r\n  const [logIn, logOut] = useAuthActions();\r\n  const loyaltyAndOrderHistory = useSelector((state) => state.loyaltyAndOrderHistory.data);\r\n  const user = useSelector((state) => state.auth.user);\r\n  const loading = useSelector((state) => state.auth.loading);\r\n  const businessData = useSelector((state) => state.business.data);\r\n\r\n  const { serviceAccommodatorId, serviceLocationId } = businessData;\r\n  const authenticationStatus = useSelector((state) => state.auth.authenticationStatus);\r\n  const reloadData = () => {\r\n    if (userCookie && serviceAccommodatorId && serviceLocationId) {\r\n      dispatch(\r\n        getCommunityExpressUserSASLSummaryRequest({\r\n          UID: userCookie,\r\n          serviceAccommodatorId,\r\n          serviceLocationId\r\n        })\r\n      );\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (\r\n      userCookie &&\r\n      !authenticationStatus &&\r\n      serviceAccommodatorId &&\r\n      serviceLocationId &&\r\n      !loading &&\r\n      initLoad\r\n    ) {\r\n      dispatch(\r\n        getCommunityExpressUserSASLSummaryRequest({\r\n          UID: userCookie,\r\n          serviceAccommodatorId,\r\n          serviceLocationId\r\n        })\r\n      ).then(({ payload, error }) => {\r\n        if (error) return;\r\n        const {\r\n          authenticationDetails,\r\n          loyaltyOrderHistoryForUser,\r\n          notification,\r\n          priority,\r\n          pollResults\r\n        } = payload;\r\n        const { userRegistrationDetails, action, welcomeMessage } = authenticationDetails;\r\n        if (authenticationDetails && action && action.enumText) {\r\n          switch (action.enumText) {\r\n            case 'NO_ACTION':\r\n              if (userRegistrationDetails) {\r\n                dispatch(\r\n                  login({\r\n                    ...userRegistrationDetails,\r\n                    welcomeMessage: welcomeMessage\r\n                  })\r\n                );\r\n              }\r\n              break;\r\n            case 'FORCE_RELOGIN':\r\n              console.log('FORCE_RELOGIN');\r\n              break;\r\n            case 'FORCE_LOGOUT':\r\n              logOut();\r\n              break;\r\n            case 'REFRESH_UID':\r\n              console.log('REFRESH_UID');\r\n              break;\r\n          }\r\n          dispatch(setAuthenticationStatus(action.enumText));\r\n        }\r\n        dispatch(\r\n          setLoyaltyAndOrderHistoryData({\r\n            ...loyaltyOrderHistoryForUser,\r\n            notification,\r\n            pollResults,\r\n            priority\r\n          })\r\n        );\r\n      });\r\n    }\r\n  }, [serviceAccommodatorId, serviceLocationId]);\r\n\r\n  useEffect(() => {\r\n    if (user && !userCookie) {\r\n      setCookie(user.uid);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [user]);\r\n\r\n  return [user, loyaltyAndOrderHistory, reloadData, loading];\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport differenceInMinutes from 'date-fns/differenceInMinutes';\r\nimport { setOrderPickUp } from '../redux/slices/shoppingCart';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {addLeadingZero, changeTimezone, isToday} from '../utils/helpers';\r\n\r\nconst getTimeString = (hours, minutes, pickUpDay, timeZone) => {\r\n  let date = changeTimezone(new Date(), timeZone);\r\n  date.setHours(+hours);\r\n  date.setMinutes(+minutes);\r\n  let options = {\r\n    hour: 'numeric',\r\n    minute: 'numeric',\r\n    hour12: true\r\n  };\r\n  let dateToCompare = changeTimezone(new Date(), timeZone);\r\n  if (pickUpDay && isToday(pickUpDay.toLowerCase())) {\r\n    // console.log(differenceInMinutes(dateToCompare, date))\r\n    return differenceInMinutes(dateToCompare, date) < 0\r\n      ? {\r\n          label: date.toLocaleString('en-US', options),\r\n          value: `${hours}:${addLeadingZero(minutes)}:00`\r\n        }\r\n      : null;\r\n  }\r\n  return {\r\n    label: date.toLocaleString('en-US', options),\r\n    value: `${hours}:${addLeadingZero(minutes)}:00`\r\n  };\r\n};\r\nexport default (businessData) => {\r\n  const [dayOptions, setDayOptions] = useState([]);\r\n  const [timeOptions, setTimeOptions] = useState([]);\r\n  let dispatch = useDispatch();\r\n  const orderPickUp = useSelector((state) => state.shoppingCart.orderPickUp);\r\n\r\n  let pickUpTimes = businessData?.pickUp?.pickUpTimes;\r\n  let futureDays = businessData?.pickUp?.futureDays;\r\n  let timeZone = businessData?.pickUp?.address?.timeZone;\r\n  const handleOrderPickUp = (pickUp) => {\r\n    dispatch(setOrderPickUp(pickUp));\r\n  };\r\n\r\n  const handleDayChange = (value) => {\r\n    let opts = updateTimeOptions(value);\r\n    setTimeOptions(opts);\r\n    handleOrderPickUp({\r\n      ...orderPickUp,\r\n      time: opts && opts.length > 0 ? opts[0].value : null,\r\n      day: value\r\n    });\r\n  };\r\n  const handleTimeChange = (value) => {\r\n    handleOrderPickUp({\r\n      ...orderPickUp,\r\n      time: value\r\n    });\r\n  };\r\n\r\n  const updateTimeOptions = (dayValue) => {\r\n    if (pickUpTimes) {\r\n      let tmpOpts = [];\r\n      pickUpTimes.map(({ hour, minute }) => {\r\n        let timeValue = getTimeString(hour, minute, dayValue, timeZone);\r\n        if (timeValue) {\r\n          tmpOpts.push(timeValue);\r\n        }\r\n        return timeValue ? { value: timeValue, label: timeValue } : null;\r\n      });\r\n\r\n      return tmpOpts;\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (futureDays && futureDays.length) {\r\n      setDayOptions([\r\n        ...futureDays\r\n          .filter(({ status }) => status === 'AVAILABLE')\r\n          .map(({ displayText, dayOfWeek }) => {\r\n            return { value: dayOfWeek.toLowerCase(), label: displayText };\r\n          })\r\n      ]);\r\n      if (!timeOptions.length && orderPickUp.day) {\r\n        setTimeOptions(updateTimeOptions());\r\n      }\r\n    }\r\n  }, [businessData]);\r\n\r\n  useEffect(() => {\r\n    if (dayOptions.length && !orderPickUp.day) {\r\n      const today = dayOptions.filter((d) => d.label === 'Today')[0];\r\n      if (today && updateTimeOptions(today.value).length) {\r\n        handleDayChange(today.value);\r\n      }\r\n    }\r\n  }, [dayOptions]);\r\n\r\n  return [orderPickUp, dayOptions, timeOptions, handleTimeChange, handleDayChange];\r\n};\r\n","import React from 'react';\r\nimport { Select as AntDSelect } from 'antd';\r\nimport usePickUpSelectors from '../../../hooks/usePickUpSelectors';\r\n\r\nconst { Option } = AntDSelect;\r\n\r\nexport const PickUpSelectors = ({ user, businessData }) => {\r\n  const [orderPickUp, dayOptions, timeOptions, onTimeChange, onDayChange] = usePickUpSelectors(\r\n    businessData\r\n  );\r\n  return (\r\n    <>\r\n      <AntDSelect\r\n        placeholder={'Day'}\r\n        value={orderPickUp.day}\r\n        defaultValue={orderPickUp.day}\r\n        onChange={onDayChange}\r\n        className=\"primary-text-picker\"\r\n      >\r\n        {dayOptions.map(({ label, value }, i) => (\r\n          <Option value={value} key={`day${i}`}>\r\n            {label}\r\n          </Option>\r\n        ))}\r\n      </AntDSelect>\r\n      <AntDSelect\r\n        placeholder={'Time'}\r\n        notFoundContent={<div>No options available please select another day</div>}\r\n        value={orderPickUp.time}\r\n        defaultValue={orderPickUp.time}\r\n        onChange={onTimeChange}\r\n        className=\"primary-text-picker\"\r\n      >\r\n        {timeOptions.map(({ label, value }, i) => (\r\n          <Option value={value} key={`timeOption${i}`}>\r\n            {label}\r\n          </Option>\r\n        ))}\r\n      </AntDSelect>\r\n    </>\r\n  );\r\n};\r\n","export const USER_COOKIE = 'cmx_UID';\r\n\r\nexport const discountTypes = {\r\n  DISCOUNT: 'discount',\r\n  PROMOTION: 'promotion',\r\n  LOYALTY_STATUS: 'loyaltyStatus',\r\n  GROUP_DISCOUNT: 'groupDiscount'\r\n};\r\n\r\nexport const amountTypes = {\r\n  PERCENT: 'PERCENT',\r\n  EXACT: 'EXACT',\r\n  AMOUNT: 'AMOUNT'\r\n};\r\n\r\nexport const paymentProcessors = {\r\n  VANTIV_HID: 'VANTIV_HID'\r\n};\r\n\r\nexport const serviceStatuses = {\r\n  CALL_AHEAD: 'CALL_AHEAD',\r\n  CLOSED: 'CLOSED'\r\n};\r\n\r\nexport const userSASLSummaryPriorities = {\r\n  NONE: 'NONE',\r\n  NOTIFICATION: 'NOTIFICATION',\r\n  HIGHLIGHTED_ITEM: 'HIGHLIGHTED_ITEM',\r\n  POLL: 'POLL'\r\n};\r\n\r\nexport const googleMapAPIKey = 'AIzaSyDon847P6x8IUl-pBwSMvvuZd3g2186uhQ';\r\n","import { amountTypes, discountTypes } from '../config/constants';\r\n\r\nexport const handleNativeShare = async (shareData) => {\r\n  if (navigator.share !== undefined) {\r\n    try {\r\n      await navigator.share(shareData);\r\n    } catch (err) {\r\n      console.log('Share failed.');\r\n    }\r\n  }\r\n};\r\n\r\nexport const scrollToElement = (el, offset = 80) => {\r\n  if (typeof window !== 'undefined' && window.scrollTo) {\r\n    if (el) {\r\n      const y = el.getBoundingClientRect().top + window.pageYOffset;\r\n      window.scrollTo({ top: y - offset, behavior: 'smooth' });\r\n    }\r\n  }\r\n};\r\n\r\nexport const addLeadingZero = (time) => (time === 0 ? '00' : time);\r\n\r\nexport const getQueryStringParams = () =>\r\n  URLSearchParams ? new URLSearchParams(window.location.search) : '';\r\nexport const getMediaImageUrl = (mediaURLs) => (mediaURLs && mediaURLs[0] ? mediaURLs[0] : null);\r\n\r\nexport const formatAddress = ({ city, country, number, state, street, timeZone, locale, zip }) =>\r\n  `${number} ${street}, ${city}, ${state} ${zip}`;\r\n\r\nexport const formatGMapAddress = ({\r\n  city,\r\n  country,\r\n  number,\r\n  state,\r\n  street,\r\n  timeZone,\r\n  locale,\r\n  zip\r\n}) => `${number}+${street}+${city}+${state}+${zip}`;\r\n\r\nexport const pad = (n) => (n < 10 ? '0' + n : n);\r\n\r\nexport const getDayNameByIndex = (index) =>\r\n  ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'][index];\r\nexport const isToday = (dayOfWeek) => {\r\n  return dayOfWeek === getDayNameByIndex(new Date().getDay());\r\n};\r\n\r\nexport const changeTimezone = (date, timeZone) =>\r\n  new Date(\r\n    date.toLocaleString('en-US', {\r\n      timeZone: timeZone\r\n    })\r\n  );\r\n\r\nexport const floatNum = (num) => parseFloat(num.toFixed(2));\r\n\r\nexport const getPercent = (total, value) => floatNum((total * value) / 100);\r\n\r\nexport const calculateDiscountedPrice = (type, discount, price) => {\r\n  switch (type) {\r\n    case amountTypes.PERCENT:\r\n      const result = price - getPercent(price, discount);\r\n      return result > 0 ? result : 0;\r\n    case amountTypes.AMOUNT:\r\n      return price > discount && price - discount > 0 ? price - discount : 0;\r\n    case amountTypes.EXACT:\r\n      return discount;\r\n  }\r\n};\r\n\r\nconst itemShape = {\r\n  itemId: 1,\r\n  itemVersion: 1,\r\n  priceId: 1,\r\n  quantity: 1.0,\r\n  comment: '',\r\n  groupId: '',\r\n  catalogId: '',\r\n  intraOrderAssociationTag: null,\r\n  intraOrderQuantity: null,\r\n  wasCustomized: false,\r\n  customizedPrice: null, //TODO: set\r\n  discountedPrice: null, //TODO: set\r\n  serviceAccommodatorId: '',\r\n  serviceLocationId: '',\r\n  userSASLid: null,\r\n  deliveryType: 'PICK_UP',\r\n  itemOptions: null,\r\n  itemDate: null,\r\n  status: 'INITIALIZED',\r\n  delayedFire: false,\r\n  hint: '',\r\n  finalPriceCharged: 0, //TODO: set\r\n  compPrice: null,\r\n  invoiceType: null,\r\n  invoiceStatus: null,\r\n  itemizedTax: null,\r\n  ageVerified: null,\r\n  cartEntryId: null,\r\n  sentTimeToKitchen: null\r\n};\r\n\r\nconst mapTransactionData = (data) => ({\r\n  paymentProcessor: data.paymentProcessor,\r\n  cashSelected: false,\r\n  creditCardSelected: true,\r\n  orderUUID: data.orderUUID,\r\n  orderId: data.orderId,\r\n  cyclicOrderIdInt: data.cyclicOrderId,\r\n  transactionId1: data.hostedPaymentStatus,\r\n  transactionId2: data.transactionID,\r\n  transactionId3: data.expressResponseCode,\r\n  transactionId4: data.expressResponseMessage,\r\n  transactionId5: data.CVVResponseCode,\r\n  transactionId6: data.approvalNumber,\r\n  transactionId7: data.lastFour,\r\n  transactionId8: data.cardLogo,\r\n  transactionId9: data.approvedAmount\r\n});\r\n\r\nexport const formatOrderData = ({\r\n  comment,\r\n  loyaltyStatus,\r\n  items,\r\n  itemsWithDiscounts,\r\n  itemsWithGroupDiscounts,\r\n  user,\r\n  catalogId,\r\n  serviceAccommodatorId,\r\n  serviceLocationId,\r\n  deliveryType,\r\n  futureOrRegular,\r\n  requestedDeliveryDate,\r\n  subTotal,\r\n  totalAmount,\r\n  tipAmount,\r\n  taxAmount,\r\n  tablePath,\r\n  transactionData\r\n}) => {\r\n  let authorizationsAndDiscounts = {\r\n    authorizations: null,\r\n    discounts: null,\r\n    promotions: null,\r\n    loyaltyStatus: null\r\n  };\r\n  if (itemsWithDiscounts && Object.keys(itemsWithDiscounts).length > 0) {\r\n    Object.keys(itemsWithDiscounts).map((key) => {\r\n      const { discountType, priceItem, ...discountItem } = itemsWithDiscounts[key];\r\n      if (!authorizationsAndDiscounts.discounts) {\r\n        authorizationsAndDiscounts.discounts = [];\r\n      }\r\n      authorizationsAndDiscounts.discounts.push(discountItem);\r\n    });\r\n  }\r\n\r\n  if (itemsWithGroupDiscounts && Object.keys(itemsWithGroupDiscounts).length > 0) {\r\n    Object.keys(itemsWithGroupDiscounts).map((key) => {\r\n      switch (itemsWithGroupDiscounts[key].discountType) {\r\n        case discountTypes.GROUP_DISCOUNT: {\r\n          const { discountType, ...discountItem } = itemsWithGroupDiscounts[key];\r\n          if (!authorizationsAndDiscounts.discounts) {\r\n            authorizationsAndDiscounts.discounts = [];\r\n          }\r\n          authorizationsAndDiscounts.discounts.push(discountItem);\r\n          break;\r\n        }\r\n      }\r\n    });\r\n  }\r\n  let transactionDataFields = {};\r\n  if (transactionData) {\r\n    transactionDataFields = mapTransactionData(transactionData);\r\n  }\r\n\r\n  let orderShape = {\r\n    userName: null,\r\n    userLevel: null,\r\n    adHoc: false,\r\n    tablePath,\r\n    items: items.map((item) => {\r\n      const {\r\n        itemId,\r\n        itemVersion,\r\n        priceId,\r\n        quantity,\r\n        comments,\r\n        groupId,\r\n        itemOptions,\r\n        price,\r\n        discountedPrice\r\n      } = item;\r\n      return {\r\n        ...itemShape,\r\n        itemId,\r\n        finalPriceCharged: discountedPrice !== undefined ? discountedPrice : price,\r\n        discountedPrice: discountedPrice,\r\n        itemVersion:\r\n          itemVersion && typeof itemVersion === 'object'\r\n            ? JSON.stringify(itemVersion)\r\n            : itemVersion,\r\n        quantity,\r\n        comment: comments,\r\n        groupId,\r\n        itemOptionsString: itemOptions ? JSON.stringify(itemOptions) : null,\r\n        catalogId,\r\n        serviceAccommodatorId,\r\n        serviceLocationId\r\n      };\r\n    }),\r\n    authorizationsAndDiscounts: authorizationsAndDiscounts,\r\n    deliveryType: deliveryType, //TODO: ENUM\r\n    futureOrRegular: futureOrRegular, //TODO: ENUM'BOTH'\r\n    deliveryContactName: null,\r\n    deliveryPhone: null,\r\n    deliveryEmail: null,\r\n    deliveryAddress: null,\r\n    requestedDeliveryDate: requestedDeliveryDate,\r\n    orderType: 'UNDEFINED',\r\n    firstName: user ? user.firstName : null,\r\n    lastName: null,\r\n    comment: comment,\r\n    orderId: null,\r\n    cyclicOrderIdInt: null,\r\n    orderUUID: null,\r\n    tagORTableNumber: null,\r\n    customerEnteredName: null,\r\n    customerEnteredMobile: null,\r\n    serviceAccommodatorId: serviceAccommodatorId,\r\n    serviceLocationId: serviceLocationId,\r\n    pickupSelected: true,\r\n    deliverySelected: null, //TODO: bool\r\n    levelId: null,\r\n    zoneId: null,\r\n    tableId: null,\r\n    pagerDetails: null,\r\n    secretComment: null,\r\n    stationId: null,\r\n    subTotal: subTotal ? subTotal : 0.0,\r\n    tipAmount: tipAmount ? tipAmount.value : 0.0,\r\n    taxAmount: taxAmount ? taxAmount : 0.0,\r\n    totalAmount: totalAmount ? totalAmount : 0.0,\r\n    pricePaid: totalAmount ? (transactionData ? totalAmount : -Math.abs(totalAmount)) : 0.0,\r\n    invoicePaid: transactionData ? totalAmount : 0.0,\r\n    invoiceTotal: 0.0,\r\n    invoiceClaimed: 0.0,\r\n    compPrice: 0.0,\r\n    currencyCode: 'USD',\r\n    addExtraFeeToTotalAmount: false, //TODO: later\r\n    extraFeeLabel: null, //TODO: later\r\n    extraFeeType: null, //TODO: later\r\n    extraFeeValue: null, //TODO: later\r\n    calculatedExtraFeeValue: null, //TODO: later\r\n    //CC\r\n    v_acceptorId: null,\r\n    v_accountId: null,\r\n    v_accountToken: null,\r\n    vantivReturnURL: null,\r\n    vantivCSS: null,\r\n    maskedAccountNumber: null,\r\n    cardHolderName: null,\r\n    invoiceId: null,\r\n    paymentDetails1: null,\r\n    paymentDetails2: null,\r\n    paymentDetails3: null,\r\n    paymentDetails4: null,\r\n    paymentDetails5: null,\r\n    transactionId1: null,\r\n    transactionId2: null,\r\n    transactionId3: null,\r\n    transactionId4: null,\r\n    transactionId5: null,\r\n    transactionId6: null,\r\n    transactionId7: null,\r\n    transactionId8: null,\r\n    transactionId9: null,\r\n    transactionId10: null,\r\n    transactionId11: null,\r\n    transactionId12: null,\r\n    transactionId13: null,\r\n    transactionId14: null,\r\n    transactionId15: null,\r\n    transactionId16: null,\r\n    transactionId17: null,\r\n    transactionId18: null,\r\n    transactionId19: null,\r\n    transactionId20: null,\r\n    saveCreditCardForFutureReference: null, //TODO: later bool\r\n    fundSourceId: null,\r\n    invoiceStatus: 'UNDEFINED',\r\n    cashSelected: true,\r\n    creditCardSelected: false,\r\n    creditCard: null,\r\n    billingAddress: null,\r\n    paymentProcessor: 'UNDEFINED',\r\n    cardReaderType: 'UNDEFINED',\r\n    taxRate: null, //TODO: later from extraFees\r\n    invoiceType: null,\r\n    cashTendered: null,\r\n    idAdhocOrderInvoiceParent: null,\r\n    uid: user ? user.uid : null,\r\n    ...transactionDataFields\r\n  };\r\n  return orderShape;\r\n};\r\n\r\nconst discountMetaDataShape = {\r\n  promoCode: '',\r\n  serviceAccommodatorId: null,\r\n  serviceLocationId: null,\r\n  activationDate: null,\r\n  expirationDate: null,\r\n  maxUseCount: 1000000,\r\n  discountUUID: null,\r\n  item: null,\r\n  type: amountTypes.PERCENT,\r\n  discount: 0,\r\n  minimumPurchase: 10,\r\n  maximumDiscount: 0,\r\n  currencyCode: 'USD',\r\n  acceptablePaymentType: 'CASH_OR_CREDIT',\r\n  title: null,\r\n  description: '',\r\n  imageURL: null,\r\n  imageWidth: null,\r\n  imageHeight: null,\r\n  applicableCatalog: null,\r\n  applicableGroup: null,\r\n  applicableItemId: null,\r\n  applicableItemVersion: null,\r\n  applicableePriceId: null,\r\n  applicationType: 'MANUAL_MULTI_USE',\r\n  shareDiscountURL: null,\r\n  onClickURL: null,\r\n  qrCodeURL: null,\r\n  policyString: null,\r\n  applicableItemUUID: null,\r\n  discountPurposeType: null,\r\n  saslTimeZone: 'America/Los_Angeles',\r\n  timeZoneId: 'America/Los_Angeles',\r\n  discountState: {\r\n    id: 1,\r\n    enumText: 'ACTIVE',\r\n    displayText: 'Active'\r\n  },\r\n  userLevel: 'DEFAULT'\r\n};\r\n\r\nexport const transformPromotionToDiscount = (promotion) => {\r\n  return {\r\n    ...discountMetaDataShape,\r\n    type: amountTypes.EXACT,\r\n    priceItem: promotion.priceItem,\r\n    discount: promotion.promoPrice,\r\n    discountUUID: promotion.uuid,\r\n    title: promotion.title,\r\n    applicableItemUUID: promotion.priceItem ? promotion.priceItem.uuid : null,\r\n    serviceAccommodatorId: promotion.serviceAccommodatorId,\r\n    serviceLocationId: promotion.serviceLocationId\r\n  };\r\n};\r\n\r\nexport const transformLoyaltyToDiscount = (loyalty) => {\r\n  return {\r\n    ...discountMetaDataShape,\r\n    type: amountTypes.EXACT,\r\n    discount: loyalty.promoPrice,\r\n    discountUUID: loyalty.loyaltyUUID,\r\n    priceItem: loyalty.priceItem,\r\n    title: loyalty.title,\r\n    applicableItemUUID: loyalty.priceItem ? loyalty.priceItem.uuid : null,\r\n    serviceAccommodatorId: loyalty.serviceAccommodatorId,\r\n    serviceLocationId: loyalty.serviceLocationId\r\n  };\r\n};\r\n\r\nexport const formatPhoneNumber = (phoneNumberString) => {\r\n  let cleaned = ('' + phoneNumberString).replace(/\\D/g, '');\r\n  let match = cleaned.match(/^(\\d{3})(\\d{3})(\\d{4})$/);\r\n  if (match) {\r\n    return '(' + match[1] + ') ' + match[2] + '-' + match[3];\r\n  }\r\n  return null;\r\n};\r\n\r\nexport const extractItemNames = (subOptions, list) => {\r\n  (subOptions || []).map(({ subSubItems }) => {\r\n    return subSubItems.filter((s) => s.isSelected).map((s) => list.push(s.subSubItemName));\r\n  });\r\n};\r\nexport const getSubItemsString = (itemOptions) => {\r\n  let list = [];\r\n  if (!itemOptions || typeof itemOptions === 'undefined') return null;\r\n  extractItemNames(itemOptions.subOptions, list);\r\n  extractItemNames(itemOptions.subItemsLeft, list);\r\n  extractItemNames(itemOptions.subItems, list);\r\n  const output = list.join(', ');\r\n  return output ? `(${output})` : '';\r\n};\r\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { businessAPI } from '../../services/api';\r\nimport { getDayNameByIndex } from '../../utils/helpers';\r\nimport { isDemo } from '../../services/request';\r\n\r\nconst initialState = {\r\n  data: {\r\n    isDemo: false,\r\n    catalogId: null,\r\n    serviceAccommodatorId: null,\r\n    serviceLocationId: null,\r\n    urlKey: '',\r\n    saslName: '',\r\n    bannerImageURL: null,\r\n    saslIcon: null,\r\n    themeColors: null,\r\n    serviceStatus: null,\r\n    ogTags: null,\r\n    openingHours: [],\r\n    pickUp: {\r\n      futureDays: [],\r\n      pickUpTimes: [],\r\n      isOpen: null,\r\n      isOpenWarningMessage: null,\r\n      address: {\r\n        telephoneNumber: null,\r\n        city: null,\r\n        country: null,\r\n        state: null,\r\n        street: null,\r\n        street2: '',\r\n        timeZone: null,\r\n        locale: null,\r\n        zip: null\r\n      }\r\n    },\r\n    payment: {\r\n      acceptCreditCards: null,\r\n      paymentProcessor: null\r\n    },\r\n    mapCoordinates: {\r\n      latitude: null,\r\n      longitude: null\r\n    },\r\n    extraFees: null,\r\n    groups: [],\r\n    groupsById: {},\r\n    itemsById: null,\r\n\r\n    hasGroupsBasedOnDay: false,\r\n    catalogs: [],\r\n    mobileOrderStatuses: {},\r\n    promotions: [],\r\n    discounts: [],\r\n    tips: [],\r\n    defaultImageURL: null,\r\n    loyaltyProgram: null,\r\n    loyaltyProgramData: null\r\n  },\r\n  loading: false,\r\n  error: false\r\n};\r\nconst getCatalog = (catalogs) => {\r\n  const validOneDayOnlyFalse = catalogs.filter(\r\n    ({ isValidOneDayOnly }) => isValidOneDayOnly === false\r\n  );\r\n  if (validOneDayOnlyFalse && validOneDayOnlyFalse.length > 0) {\r\n    return {\r\n      hasGroupsBasedOnDay: false,\r\n      catalog: validOneDayOnlyFalse[0]\r\n    };\r\n  }\r\n  const validOneDayOnly = catalogs.filter(({ isValidOneDayOnly }) => isValidOneDayOnly === true);\r\n  if (validOneDayOnly && validOneDayOnly.length > 0) {\r\n    const days = validOneDayOnly.filter(\r\n      ({ validDay }) => validDay.toLowerCase() === getDayNameByIndex(new Date().getDay())\r\n    );\r\n    if (days && days.length > 0) {\r\n      return {\r\n        hasGroupsBasedOnDay: true,\r\n        catalog: days[0]\r\n      };\r\n    }\r\n  }\r\n};\r\n\r\nconst mapUnSubgroupedItems = (items, groupId) => {\r\n  let itemsObject = {}; //needed for itemsById dictionary\r\n  const itemsArray = items.map((item) => {\r\n    const { thumbnailBase64, ...rest } = item;\r\n    if (rest.canSplitLeftRight && rest.itemOptions && rest.itemOptions.subItems) {\r\n      rest.itemOptions.subItemsLeft = rest.itemOptions.subItems;\r\n    }\r\n    if (!rest.quantity) {\r\n      rest.quantity = 1;\r\n    }\r\n\r\n    /* Needed for correct re-order from Order History of item version different from 1\r\n     * because UUID of orderItem is changed and we need to handle that and put each version\r\n     * as a separate item to make possible of quick check itemsById[itemUUID]\r\n     */\r\n    if (item.hasVersions && item.itemVersions.length) {\r\n      item.itemVersions.map((itemVersion) => {\r\n        const { thumbnailBase64, ...restItem } = itemVersion;\r\n        itemsObject[itemVersion.uuid] = {\r\n          ...rest,\r\n          ...restItem,\r\n          groupId\r\n        };\r\n      });\r\n    }\r\n\r\n    itemsObject[item.uuid] = {\r\n      ...rest,\r\n      groupId\r\n    };\r\n\r\n    return {\r\n      ...rest,\r\n      groupId\r\n    };\r\n  });\r\n  return {\r\n    itemsArray,\r\n    itemsObject\r\n  };\r\n};\r\nconst mapGroups = (groupsSrc) => {\r\n  let groups = [];\r\n  let itemsById = {};\r\n  let groupsById = {};\r\n  if (groupsSrc !== undefined && groupsSrc && groupsSrc.length) {\r\n    groups = groupsSrc\r\n      .filter((g) => g.groupType.enumText !== 'DISCOUNT_ONLY' && g.groupType.enumText !== 'ADHOC')\r\n      .map((g, i) => {\r\n        groupsById[g.groupId] = g;\r\n        const { indexInCatalog, groupDisplayText, unSubgroupedItems, groupId } = g;\r\n        const { itemsArray, itemsObject } = mapUnSubgroupedItems(unSubgroupedItems, groupId);\r\n        itemsById = {\r\n          ...itemsById,\r\n          ...itemsObject\r\n        };\r\n        return {\r\n          indexInCatalog,\r\n          groupDisplayText,\r\n          unSubgroupedItems: itemsArray\r\n        };\r\n      });\r\n  }\r\n  return {\r\n    groups,\r\n    groupsById,\r\n    itemsById\r\n  };\r\n};\r\nconst mapMobileOrderStatuses = (mobileOrderStatuses) => {\r\n  const statuses = {};\r\n  if (mobileOrderStatuses && mobileOrderStatuses.length) {\r\n    mobileOrderStatuses.map((status) => {\r\n      statuses[status.enumText] = status.mobileDisplayText;\r\n    });\r\n  }\r\n  return statuses;\r\n};\r\n\r\nconst mapBusinessData = (urlKey, data) => {\r\n  const {\r\n    serviceAccommodatorId,\r\n    serviceLocationId,\r\n    saslName,\r\n    themeColors,\r\n    appleTouchIcon192URL,\r\n    city,\r\n    country,\r\n    number,\r\n    state,\r\n    street,\r\n    timeZone,\r\n    locale,\r\n    zip,\r\n    discounts,\r\n    promotions,\r\n    services,\r\n    latitude,\r\n    longitude,\r\n    ogTags\r\n  } = data?.siteletteDataModel?.sasl;\r\n\r\n  const {\r\n    serviceStatus,\r\n    saBannerImageURL,\r\n    defaultImageURL,\r\n    futureDays,\r\n    pickUpTimes,\r\n    extraFees,\r\n    loyaltyProgram,\r\n    loyaltyProgramData,\r\n    mobileOrderStatuses,\r\n    openingHours\r\n  } = data.siteletteDataModel;\r\n\r\n  const { catalog, hasGroupsBasedOnDay } = getCatalog(data.catalogs);\r\n  const groupsSrc = catalog.groups;\r\n  const { isOpen, isOpenWarningMessage, catalogId } = catalog;\r\n\r\n  const tips = services?.onlineOrder?.tips;\r\n  const acceptCreditCards = services.onlineOrder?.acceptCreditCards;\r\n  const paymentProcessor = services.onlineOrder?.paymentProcessor;\r\n\r\n  let payment = {\r\n    acceptCreditCards,\r\n    paymentProcessor\r\n  };\r\n  let mapCoordinates = {\r\n    latitude,\r\n    longitude\r\n  };\r\n  let pickUp = {\r\n    futureDays,\r\n    pickUpTimes,\r\n    isOpen,\r\n    isOpenWarningMessage,\r\n    address: {\r\n      city,\r\n      country,\r\n      number,\r\n      state,\r\n      street,\r\n      timeZone,\r\n      locale,\r\n      zip\r\n    }\r\n  };\r\n\r\n  const { groups, groupsById, itemsById } = mapGroups(groupsSrc);\r\n\r\n  return {\r\n    openingHours: openingHours?.shiftPolicies ? openingHours.shiftPolicies : [],\r\n    ogTags,\r\n    serviceStatus: serviceStatus.enumText ? serviceStatus.enumText : null,\r\n    isDemo: isDemo,\r\n    mapCoordinates,\r\n    mobileOrderStatuses: mapMobileOrderStatuses(mobileOrderStatuses),\r\n    payment,\r\n    loyaltyProgram,\r\n    loyaltyProgramData,\r\n    promotions,\r\n    discounts,\r\n    tips,\r\n    extraFees,\r\n    catalogId,\r\n    serviceAccommodatorId,\r\n    serviceLocationId,\r\n    themeColors,\r\n    urlKey,\r\n    saslName,\r\n    saslIcon: appleTouchIcon192URL,\r\n    bannerImageURL: saBannerImageURL,\r\n    defaultImageURL,\r\n    pickUp,\r\n    groups,\r\n    groupsById,\r\n    itemsById,\r\n    hasGroupsBasedOnDay,\r\n    catalogs: data.catalogs\r\n  };\r\n};\r\n\r\nexport const getBusinessData = createAsyncThunk('business/getBusinessData', async (urlKey) => {\r\n  const response = await businessAPI.getBusinessData(urlKey);\r\n  return mapBusinessData(urlKey, response.data);\r\n});\r\n\r\nconst businessSlice = createSlice({\r\n  name: 'business',\r\n  initialState: initialState,\r\n  reducers: {\r\n    updateGroups: (state, action) => {\r\n      const result = mapGroups(action.payload);\r\n      state.data.groups = result.groups;\r\n      state.data.groupsById = result.groupsById;\r\n      state.data.itemsById = result.itemsById;\r\n    },\r\n    hydrateBusinessData: (state, action) => {\r\n      state.data = mapBusinessData(action.payload.businessUrlKey, action.payload.businessData);\r\n      state.loading = false;\r\n    }\r\n  },\r\n  extraReducers: {\r\n    // Add reducers for additional action types here, and handle loading state as needed\r\n    [getBusinessData.pending]: (state, action) => {\r\n      state.loading = true;\r\n      state.error = false;\r\n    },\r\n    [getBusinessData.fulfilled]: (state, action) => {\r\n      state.data = action.payload;\r\n      state.loading = false;\r\n    },\r\n    [getBusinessData.rejected]: (state, action) => {\r\n      //TODO: Need to handle this in a UI\r\n      state.error = action.error.message;\r\n      state.loading = false;\r\n    }\r\n  }\r\n});\r\n\r\nexport const { updateGroups, hydrateBusinessData } = businessSlice.actions;\r\nexport const businessReducer = businessSlice.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState = {\r\n  errorMessage: null\r\n};\r\n\r\nconst globalErrorSlice = createSlice({\r\n  name: 'global-error',\r\n  initialState: initialState,\r\n  reducers: {\r\n    resetGlobalErrorMessage: (state) => {\r\n      state.errorMessage = null;\r\n    }\r\n  },\r\n  extraReducers: (builder) =>\r\n    builder.addMatcher(\r\n      (action) => action.type.endsWith('rejected'),\r\n      (state, action) => {\r\n        state.errorMessage = action?.error?.message;\r\n      }\r\n    )\r\n  // and provide a default case if no other handlers matched\r\n  // .addDefaultCase((state, action) => {})\r\n});\r\nexport const { resetGlobalErrorMessage } = globalErrorSlice.actions;\r\nexport const globalErrorReducer = globalErrorSlice.reducer;\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport { businessReducer } from './slices/business';\r\n\r\nimport { authReducer } from './slices/auth';\r\nimport { loyaltyAndOrderHistoryReducer } from './slices/loyaltyAndOrderHistory';\r\nimport { shoppingCartReducer } from './slices/shoppingCart';\r\nimport { globalErrorReducer } from './slices/globalError';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware()\r\n  /*YOUR CUSTOM MIDDLEWARES HERE*/\r\n];\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    business: businessReducer,\r\n    auth: authReducer,\r\n    shoppingCart: shoppingCartReducer,\r\n    loyaltyAndOrderHistory: loyaltyAndOrderHistoryReducer,\r\n    globalError: globalErrorReducer\r\n  },\r\n  middleware\r\n});\r\n","import React, { memo } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './Hero.css';\r\nimport { ImagePlaceholder } from '../../Shared/ImagePlaceholder/ImagePlaceholder';\r\nexport const Hero = memo(({ defaultImageURL, saslIcon, title = '' }) => (\r\n  <div className=\"hero\">\r\n    <img src={saslIcon} alt=\"\" className=\"hero-icon\" />\r\n    <ImagePlaceholder>\r\n      <img src={defaultImageURL} alt={title} className=\"hero-bg\" />\r\n    </ImagePlaceholder>\r\n  </div>\r\n));\r\n\r\nHero.propTypes = {\r\n  imageUrl: PropTypes.string,\r\n  title: PropTypes.string,\r\n  iconUrl: PropTypes.string\r\n};\r\n","import React, { memo } from 'react';\r\nimport PropTypes from 'prop-types';\r\n// import avatarIcon from '../../../assets/images/avatar.png';\r\nimport './Greetings.css';\r\nimport { Card } from '../../Shared/Card/Card';\r\nexport const Greetings = memo(({ name, title, welcomeMessage, notification }) => {\r\n  const { notificationBody, imageURL } = notification;\r\n  return (\r\n    <Card className=\"greetings\">\r\n      <div className=\"greetings-avatar\" style={{ backgroundImage: `url('${imageURL}')` }} />\r\n      <div className=\"greetings__content\">\r\n        <h4 className=\"greetings__content-title primary-text font-size-md\">\r\n          {`${title} ${name}`}!\r\n        </h4>\r\n        {notificationBody && <p>{notificationBody}</p>}\r\n      </div>\r\n    </Card>\r\n  );\r\n});\r\n\r\nGreetings.propTypes = {\r\n  notification: PropTypes.object,\r\n  avatar: PropTypes.string,\r\n  welcomeMessage: PropTypes.string,\r\n  name: PropTypes.string,\r\n  title: PropTypes.string,\r\n  text: PropTypes.string\r\n};\r\n","import React, { memo, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Radio } from 'antd';\r\nimport { MdLocationOn, MdAccessTime } from 'react-icons/md';\r\nimport differenceInMinutes from 'date-fns/differenceInMinutes';\r\n\r\nimport { addLeadingZero, changeTimezone, formatAddress } from '../../../utils/helpers';\r\nimport { PickUpSelectors } from '../../Shared/PickUpSelectors/PickUpSelectors';\r\nimport { Card } from '../../Shared/Card/Card';\r\n\r\nimport usePreventOrdering from '../../../hooks/usePreventOrdering';\r\nimport './PickUp.css';\r\n\r\nconst getDay = () => ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'][new Date().getDay()];\r\nconst formatTime = (weekDayPolicy) => {\r\n  let startMin = weekDayPolicy?.timeRange?.openingHours?.startClock.minute;\r\n  let endMin = weekDayPolicy?.timeRange?.openingHours?.endClock.minute;\r\n  startMin = addLeadingZero(startMin);\r\n  endMin = addLeadingZero(endMin);\r\n  return `${weekDayPolicy?.timeRange?.openingHours?.startClock.hour}:${startMin} to\r\n      ${weekDayPolicy?.timeRange?.openingHours?.endClock.hour}:${endMin}\r\n      `;\r\n};\r\nconst getOpenClosingDateTime = (weekDayPolicy, timezone) => {\r\n  let closingDate = changeTimezone(new Date(), timezone);\r\n  let openDate = changeTimezone(new Date(), timezone);\r\n  closingDate.setHours(+weekDayPolicy?.timeRange?.openingHours?.endClock.hour);\r\n  closingDate.setMinutes(+weekDayPolicy?.timeRange?.openingHours?.endClock.minute);\r\n  openDate.setHours(+weekDayPolicy?.timeRange?.openingHours?.startClock.hour);\r\n  openDate.setMinutes(+weekDayPolicy?.timeRange?.openingHours?.startClock.minute);\r\n  return {\r\n    close: closingDate,\r\n    open: openDate\r\n  };\r\n};\r\nexport const PickUp = memo(({ businessData, user }) => {\r\n  const [deliveryType, setDeliveryType] = useState(1);\r\n  const [openStatus, setOpenStatus] = useState('Open');\r\n  const handleDeliveryTypeChange = (e) => setDeliveryType(e.target.value);\r\n  const { openingHours } = businessData;\r\n  const { isOpenWarningMessage, isOpen, address } = businessData.pickUp;\r\n\r\n  let timeZone = businessData?.pickUp?.address?.timeZone;\r\n  const [today, setToday] = useState(null);\r\n\r\n  const [preventOrdering] = usePreventOrdering(businessData);\r\n\r\n  useEffect(() => {\r\n    if (openingHours) {\r\n      setToday(getDay());\r\n    }\r\n    if (preventOrdering) {\r\n      return setOpenStatus('Closed');\r\n    }\r\n    let openClosingDateTime = null;\r\n    (openingHours || []).map(({ weekDayPolicies }, i) => {\r\n      if (weekDayPolicies[getDay()]) {\r\n        openClosingDateTime = getOpenClosingDateTime(weekDayPolicies[getDay()], timeZone);\r\n      }\r\n    });\r\n\r\n    if (openClosingDateTime) {\r\n      let nowDate = changeTimezone(new Date(), timeZone);\r\n      /* nowDate.setHours(20);\r\n        nowDate.setMinutes(0);*/\r\n      /* console.log(nowDate);\r\n      console.log(openClosingDateTime);\r\n      console.log(differenceInMinutes(nowDate, openClosingDateTime.open));\r\n      console.log(differenceInMinutes(nowDate, openClosingDateTime.close));*/\r\n      setOpenStatus(\r\n        differenceInMinutes(nowDate, openClosingDateTime.open) >= 0 &&\r\n          differenceInMinutes(nowDate, openClosingDateTime.close) <= 0\r\n          ? 'Open'\r\n          : 'Closed'\r\n      );\r\n    }\r\n  }, [openingHours, preventOrdering]);\r\n\r\n  return (\r\n    <Card className={'pickup'}>\r\n      <Radio.Group\r\n        onChange={handleDeliveryTypeChange}\r\n        value={deliveryType}\r\n        className={'pickup-line delivery-type'}\r\n      >\r\n        <Radio value={1}>PickUp</Radio>\r\n        <Radio value={2} disabled>\r\n          Delivery\r\n        </Radio>\r\n      </Radio.Group>\r\n      <div className=\"pickup-line selectors\">\r\n        <PickUpSelectors user={user} businessData={businessData} />\r\n      </div>\r\n      <div className=\"pickup-line address\">\r\n        <span className=\"primary-text\">\r\n          <MdLocationOn />\r\n        </span>{' '}\r\n        <span>{formatAddress(address)}</span>\r\n      </div>\r\n      <div className=\"pickup-line address\">\r\n        <span className=\"primary-text\">\r\n          <MdAccessTime />{' '}\r\n        </span>\r\n        <span>\r\n          {(openingHours || []).map(({ weekDayPolicies }, i) => {\r\n            return <div key={`openingHours${i}`}>{formatTime(weekDayPolicies[today])}</div>;\r\n          })}\r\n        </span>\r\n        <span className=\"pickup-status primary-text\">{openStatus}</span>\r\n      </div>\r\n      {isOpenWarningMessage && (\r\n        <div className=\"pickup-line address\">\r\n          <span>{isOpenWarningMessage}</span>\r\n        </div>\r\n      )}\r\n    </Card>\r\n  );\r\n});\r\n\r\nPickUp.propTypes = {\r\n  address: PropTypes.object,\r\n  timeOpen: PropTypes.string,\r\n  timeClose: PropTypes.string,\r\n  status: PropTypes.string\r\n};\r\n","import React from 'react';\r\nexport const ChevronRight = () => (<svg height=\"30\" width=\"15\">\r\n    <path d=\"M 0 0 l 0 10 l 5 5 l -5 5 l 0 10 l 15 -15 Z\" />\r\n    Sorry, your browser does not support inline SVG.\r\n</svg>);\r\n","import React, { memo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Loyalty.css';\r\n\r\nimport { Card } from '../../Shared/Card/Card';\r\nimport { ChevronRight } from './ChevronRight';\r\n//import 'slick-carousel/slick/slick.css';\r\n\r\nexport const Loyalty = memo(({ loyaltyAndOrderHistory }) => {\r\n  const { loyaltyForUser } = loyaltyAndOrderHistory;\r\n  if (!loyaltyForUser || !loyaltyForUser.hasLoyaltyProgram || !loyaltyForUser.loyaltyStatus)\r\n    return null;\r\n  const {\r\n    programName,\r\n    itemName,\r\n    currentCount,\r\n    triggerCount,\r\n    applyDiscount\r\n  } = loyaltyForUser.loyaltyStatus;\r\n  return (\r\n    <Card className=\"bg-primary loyalty\">\r\n      <h4 className=\"font-size-lg\">My Rewards</h4>\r\n      <p>\"{programName}\"</p>\r\n      <div className=\"loyalty__progress\">\r\n        <div className=\"loyalty__progress-bar\">\r\n          {Array(triggerCount)\r\n            .fill(0)\r\n            .map((v, i) => (\r\n              <div\r\n                key={`loyaltyProgress${i}`}\r\n                // style={{ width: `${100 / triggerCount}%` }}\r\n                className={`loyalty__progress-bar-block ${i < currentCount ? 'active' : ''}`}\r\n              >\r\n                <ChevronRight />\r\n              </div>\r\n            ))}\r\n        </div>\r\n        <div className=\"loyalty__progress-item\">\r\n          {applyDiscount ? <strong>{itemName}</strong> : itemName}\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n});\r\n\r\nLoyalty.propTypes = {\r\n  loyaltyAndOrderHistory: PropTypes.object\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './ProductCard.css';\r\nimport { Link, useParams, useLocation } from 'react-router-dom';\r\nimport { getMediaImageUrl } from '../../../../utils/helpers';\r\n// import { ImagePlaceholder } from '../../../Shared/ImagePlaceholder/ImagePlaceholder';\r\n\r\nexport const ProductCard = ({\r\n  itemId,\r\n  uuid,\r\n  itemName,\r\n  mediaURLs,\r\n  shortDescription,\r\n  longDescription,\r\n  price\r\n}) => {\r\n  const { businessUrlKey } = useParams();\r\n  const { search } = useLocation();\r\n  const imageUrl = getMediaImageUrl(mediaURLs);\r\n  let styleProps = {};\r\n  if (imageUrl) {\r\n    styleProps.backgroundImage = `url('${getMediaImageUrl(mediaURLs)}')`;\r\n    styleProps.backgroundPosition = 'center';\r\n  }\r\n  return (\r\n    <Link\r\n      to={`/${businessUrlKey}/p/${uuid}${search}`}\r\n      className=\"card group__product-card bg-secondary p-default\"\r\n    >\r\n      {/* <ImagePlaceholder>\r\n        <img src={getMediaImageUrl(mediaURLs)} alt={itemName} />\r\n      </ImagePlaceholder>*/}\r\n      <div className=\"group__product-card-image\" style={styleProps} />\r\n      <div className=\"group__product-card-content\">\r\n        <div className=\"group__product-card-title font-size-md\">\r\n          <h3>{itemName}</h3>\r\n          <div className=\"primary-text group__product-card-price\">${price}</div>\r\n        </div>\r\n        <div className=\"group__product-card-description\">{shortDescription || longDescription}</div>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nProductCard.propTypes = {\r\n  itemId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  itemName: PropTypes.string,\r\n  mediaURLs: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\r\n  shortDescription: PropTypes.any,\r\n  longDescription: PropTypes.any,\r\n  price: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n};\r\n","import React, { memo, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Tabs } from 'antd';\r\nimport stickybits from 'stickybits';\r\n\r\nimport './Groups.css';\r\nimport { ProductCard } from './ProductCard/ProductCard';\r\nconst { TabPane } = Tabs;\r\n\r\nstickybits('.groups-tabs ', { noStyles: true });\r\nexport const Groups = memo(({ groups }) => {\r\n  const [activeKey, setActiveKey] = useState('1');\r\n  const handleTabClick = ({ key }) => setActiveKey(key);\r\n  const resizeTab = groups.length && groups.length < 4;\r\n  return (\r\n    <div className={`groups-tabs ${resizeTab ? `tabs-${groups.length}-only` : ''}`}>\r\n      <Tabs activeKey={activeKey} onTabClick={handleTabClick}>\r\n        {(groups || []).map(({ groupDisplayText, id, unSubgroupedItems }, index) => (\r\n          <TabPane tab={groupDisplayText} key={index + 1}>\r\n            {(unSubgroupedItems || []).map((product, productIndex) => (\r\n              <ProductCard {...product} key={`product${index}${productIndex}`} />\r\n            ))}\r\n          </TabPane>\r\n        ))}\r\n      </Tabs>\r\n    </div>\r\n  );\r\n});\r\n\r\nGroups.propTypes = {\r\n  groups: PropTypes.array\r\n};\r\n","import React, { memo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { Card } from '../../Shared/Card/Card';\r\n\r\nexport const MyPastOrders = memo(({ urlKey }) => {\r\n  const { search } = useLocation();\r\n  return (\r\n    <Card>\r\n      <Link to={`/${urlKey}/order-history${search}`}>\r\n        <h4 className=\"font-size-lg\">My Past Orders</h4>\r\n      </Link>\r\n    </Card>\r\n  );\r\n});\r\n\r\nMyPastOrders.propTypes = {\r\n  urlKey: PropTypes.string.isRequired\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from 'antd';\r\nimport { useHistory, useParams, useLocation } from 'react-router-dom';\r\nimport './Cart.css';\r\n\r\nexport const Cart = ({ itemsCount, price }) => {\r\n  let history = useHistory();\r\n  const { search } = useLocation();\r\n  let { businessUrlKey } = useParams();\r\n  const handleOrderDetails = () => history.push(`/${businessUrlKey}/order-details${search}`);\r\n  return (\r\n    <div className=\"footer-fixed-cart p-default\">\r\n      <Button type=\"primary\" size=\"large\" block className=\"flex\" onClick={handleOrderDetails}>\r\n        <span className=\"footer-fixed-cart-items font-size-lg\">{itemsCount} items in cart</span>\r\n        <span className=\"footer-fixed-cart-price font-size-lg\">${price}</span>\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nCart.propTypes = {\r\n  itemsCount: PropTypes.number,\r\n  price: PropTypes.number\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from 'antd';\r\nimport { useHistory, useParams, useLocation } from 'react-router-dom';\r\nimport './LastOrderStatus.css';\r\nimport { Card } from '../../Shared/Card/Card';\r\nexport const LastOrderStatus = ({ loyaltyAndOrderHistory }) => {\r\n  let order = null;\r\n  if (loyaltyAndOrderHistory.orderHistory && loyaltyAndOrderHistory.orderHistory.length) {\r\n    order = loyaltyAndOrderHistory.orderHistory[0];\r\n  }\r\n  let history = useHistory();\r\n  const { search } = useLocation();\r\n  let { businessUrlKey } = useParams();\r\n  const handleOrderStatus = () =>\r\n    history.push(`/${businessUrlKey}/order-status/${order.orderUUID}${search}`);\r\n  if (!order || order.orderStatus === 'FULFILLED') return null;\r\n\r\n  return (\r\n    <Card className={'last-order'}>\r\n      <Button\r\n        size={'large'}\r\n        onClick={handleOrderStatus}\r\n        type=\"primary\"\r\n        className=\"track-last-order-btn\"\r\n      >\r\n        Track Last Order\r\n      </Button>\r\n    </Card>\r\n  );\r\n};\r\n\r\nLastOrderStatus.propTypes = {\r\n  loyaltyAndOrderHistory: PropTypes.object.isRequired\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { userSASLSummaryPriorities } from '../../../config/constants';\r\nimport { Greetings } from '../Greetings/Greetings';\r\n\r\nexport const PriorityCard = ({ user, loyaltyAndOrderHistory }) => {\r\n  const { priority, notification } = loyaltyAndOrderHistory || {};\r\n  return (\r\n    <>\r\n      {user &&\r\n        (priority === userSASLSummaryPriorities.NONE ||\r\n          priority === userSASLSummaryPriorities.NOTIFICATION) &&\r\n        notification && (\r\n          <Greetings\r\n            notification={notification}\r\n            title={'Hello'}\r\n            name={user.firstName || ''}\r\n            welcomeMessage={user.welcomeMessage || ''}\r\n          />\r\n        )}\r\n    </>\r\n  );\r\n};\r\n\r\nPriorityCard.propTypes = {\r\n  loyaltyAndOrderHistory: PropTypes.object,\r\n  user: PropTypes.object\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Container } from '../Shared/Container/Container';\r\nimport { Hero } from './Hero/Hero';\r\nimport { Greetings } from './Greetings/Greetings';\r\nimport { PickUp } from './PickUp/PickUp';\r\nimport { Loyalty } from './Loyalty/Loyalty';\r\nimport { Groups } from './Groups/Groups';\r\nimport { MyPastOrders } from './MyPastOrders/MyPastOrders';\r\nimport { Cart } from './Cart/Cart';\r\nimport { LastOrderStatus } from './LastOrderStatus/LastOrderStatus';\r\nimport { userSASLSummaryPriorities } from '../../config/constants';\r\nimport { PriorityCard } from './PriorityCard/PriorityCard';\r\n\r\nexport const Home = ({\r\n  loyaltyAndOrderHistory,\r\n  businessData,\r\n  user,\r\n  shoppingCartItemsCount,\r\n  shoppingCartPrice\r\n}) => {\r\n  const { groups, saslName, saslIcon, defaultImageURL, urlKey } = businessData;\r\n  return (\r\n    <>\r\n      <Hero saslName={saslName} saslIcon={saslIcon} defaultImageURL={defaultImageURL} />\r\n      <Container>\r\n        <div className=\"greetings-wrapper\">\r\n          <div className=\"greetings-wrapper-inner\">\r\n            {user && loyaltyAndOrderHistory && (\r\n              <PriorityCard user={user} loyaltyAndOrderHistory={loyaltyAndOrderHistory} />\r\n            )}\r\n            <PickUp user={user} businessData={businessData} />\r\n          </div>\r\n        </div>\r\n        {user && loyaltyAndOrderHistory && (\r\n          <Loyalty loyaltyAndOrderHistory={loyaltyAndOrderHistory} />\r\n        )}\r\n        {user && loyaltyAndOrderHistory && (\r\n          <LastOrderStatus loyaltyAndOrderHistory={loyaltyAndOrderHistory} />\r\n        )}\r\n        {user && <MyPastOrders urlKey={urlKey} />}\r\n        <Groups groups={groups} />\r\n        {shoppingCartItemsCount ? (\r\n          <Cart itemsCount={shoppingCartItemsCount} price={shoppingCartPrice} />\r\n        ) : null}\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nHome.propTypes = {\r\n  groups: PropTypes.array,\r\n  saslName: PropTypes.string,\r\n  urlKey: PropTypes.string,\r\n  user: PropTypes.object,\r\n  shoppingCartItemsCount: PropTypes.number,\r\n  shoppingCartPrice: PropTypes.number\r\n};\r\n","import React from 'react';\r\nimport { Home } from '../components/Home/Home';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst HomePage = ({ businessData, user, loyaltyAndOrderHistory }) => {\r\n  const shoppingCartItems = useSelector((state) => state.shoppingCart.items);\r\n  const shoppingCartPrice = useSelector((state) => state.shoppingCart.priceSubTotal);\r\n  return (\r\n    <Home\r\n      shoppingCartItemsCount={shoppingCartItems?.length}\r\n      shoppingCartPrice={shoppingCartPrice}\r\n      user={user}\r\n      businessData={businessData}\r\n      loyaltyAndOrderHistory={loyaltyAndOrderHistory}\r\n    />\r\n  );\r\n};\r\nexport default HomePage;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { AiOutlineMenu, AiOutlineArrowLeft } from 'react-icons/ai';\r\nimport './Header.css';\r\n\r\nconst MenuIcon = ({ onBack, isHome }) => (\r\n  <div onClick={onBack} className=\"action-icon\">\r\n    {isHome ? <AiOutlineMenu /> : <AiOutlineArrowLeft />}\r\n  </div>\r\n);\r\nexport const Header = ({ title, isHome = false, onBack, bannerImageURL, themeColors }) => {\r\n  return (\r\n    <header className={`page-header`} id=\"header\">\r\n      <MenuIcon onBack={onBack} isHome={isHome} />\r\n      <div className=\"page-title\">\r\n        {bannerImageURL ? <img src={bannerImageURL} alt={title} /> : title}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nHeader.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  isHome: PropTypes.bool,\r\n  onBack: PropTypes.func\r\n};\r\n","export const routes = {\r\n  home: {\r\n    path: '/',\r\n    title: 'Home'\r\n  },\r\n  signUp: {\r\n    path: '/sign-up',\r\n    title: 'Sign up'\r\n  },\r\n  productItem: {\r\n    path: '/:productId'\r\n  },\r\n  trackOrder: {\r\n    path: '/order-status/123',\r\n    title: 'Order Status',\r\n    authRequired: true\r\n  },\r\n  orderHistory: {\r\n    path: '/order-history',\r\n    title: 'Order History',\r\n    authRequired: true\r\n  },\r\n  orderDetails: {\r\n    path: '/order-details',\r\n    title: 'Order Details'\r\n  },\r\n  userSettings: {\r\n    path: '/user-settings',\r\n    title: 'My Settings',\r\n    authRequired: true\r\n  },\r\n  payment: {\r\n    path: '/payment',\r\n    title: 'Payment'\r\n  },\r\n  terms: {\r\n    path: '/terms-and-conditions',\r\n    title: 'Terms & Conditions'\r\n  },\r\n  help: {\r\n    path: '/help',\r\n    title: 'Help'\r\n  },\r\n  login: {\r\n    title: 'Login',\r\n    path: '/login'\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { Menu } from 'antd';\r\nimport { RiLogoutBoxLine, RiLoginBoxLine } from 'react-icons/ri';\r\nimport { MdLiveHelp } from 'react-icons/md';\r\nimport {\r\n  AiFillShop,\r\n  AiOutlineHistory,\r\n  AiFillEdit,\r\n  AiOutlineCreditCard,\r\n  AiFillInfoCircle\r\n} from 'react-icons/ai';\r\n\r\nimport { routes } from '../../../config/routes';\r\nimport { Link, useParams, useLocation } from 'react-router-dom';\r\nconst { SubMenu } = Menu;\r\n\r\nexport const MainMenu = ({ user, onClose, onLogout }) => {\r\n  const { search } = useLocation();\r\n  const menuItems = [\r\n    /*{\r\n      ...routes.trackOrder,\r\n      icon: <MdLocationOn />\r\n    },*/\r\n    {\r\n      title: 'My Dash',\r\n      icon: <AiFillShop />,\r\n      subItems: [\r\n        {\r\n          ...routes.orderHistory,\r\n          icon: <AiOutlineHistory />\r\n        },\r\n        {\r\n          ...routes.userSettings,\r\n          icon: <AiFillEdit />\r\n        },\r\n       /* {\r\n          ...routes.payment,\r\n          icon: <AiOutlineCreditCard />\r\n        }*/\r\n      ],\r\n      authRequired: true\r\n    },\r\n    {\r\n      icon: <AiFillInfoCircle />,\r\n      ...routes.terms\r\n    },\r\n    {\r\n      icon: <MdLiveHelp />,\r\n      ...routes.help\r\n    },\r\n    {\r\n      icon: <RiLogoutBoxLine />,\r\n      title: 'Logout',\r\n      authRequired: true,\r\n      onClickAction: () => {\r\n        onClose();\r\n        onLogout();\r\n      }\r\n    },\r\n    /*user\r\n      ? {}\r\n      : {\r\n          icon: <RiLoginBoxLine />,\r\n          ...routes.login\r\n        }*/\r\n  ];\r\n  const { businessUrlKey } = useParams();\r\n\r\n  return (\r\n    <Menu mode=\"inline\">\r\n      {menuItems.map(({ title, path, icon, subItems, authRequired, onClickAction }, index) => {\r\n        if (authRequired && !user) return null;\r\n        const props = {};\r\n        if (onClickAction) {\r\n          props.onClick = onClickAction;\r\n        } else {\r\n          props.onClick = onClose;\r\n        }\r\n        return subItems ? (\r\n          <SubMenu\r\n            key={index}\r\n            title={\r\n              <span>\r\n                {icon}\r\n                <span className=\"submenu-item-title\">{title}</span>\r\n              </span>\r\n            }\r\n          >\r\n            {subItems.map(({ title, path, icon }, subIndex) => (\r\n              <Menu.Item key={`${index}${subIndex}`} icon={icon} onClick={onClose}>\r\n                <Link to={`/${businessUrlKey}${path}${search}`}>{title}</Link>\r\n              </Menu.Item>\r\n            ))}\r\n          </SubMenu>\r\n        ) : (\r\n          <Menu.Item key={index} icon={icon} {...props}>\r\n            {path ? <Link to={`/${businessUrlKey}${path}${search}`}>{title}</Link> : title}\r\n          </Menu.Item>\r\n        );\r\n      })}\r\n    </Menu>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Drawer as AntDDrawer } from 'antd';\r\nimport './Drawer.css';\r\nimport { MainMenu } from './Menu';\r\nexport const Drawer = ({ open, onOpen, onClose, user, onLogin, onLogout }) => {\r\n  return (\r\n    <div>\r\n      <AntDDrawer\r\n        width={300}\r\n        title={''}\r\n        placement=\"left\"\r\n        closable={true}\r\n        onClose={onClose}\r\n        visible={open}\r\n        getContainer={false}\r\n        style={{ position: 'absolute' }}\r\n      >\r\n        <div className=\"drawer-menu\">\r\n          <MainMenu user={user} onLogout={onLogout} onLogin={onLogin} onClose={onClose} />\r\n        </div>\r\n      </AntDDrawer>\r\n    </div>\r\n  );\r\n};\r\n\r\nDrawer.propTypes = {\r\n  open: PropTypes.bool.isRequired,\r\n  onOpen: PropTypes.func.isRequired,\r\n  onClose: PropTypes.func.isRequired\r\n};\r\n","import React from 'react';\r\nimport { Spin } from 'antd';\r\nimport 'antd/lib/spin/style/css';\r\nimport './PageLoader.css';\r\nexport const PageLoader = () => (\r\n  <div className=\"page-loader\">\r\n    <Spin size=\"large\" />\r\n  </div>\r\n);\r\n","import React from 'react';\r\n\r\nimport './Page404.css';\r\nexport const Page404 = () => (\r\n  <div className=\"page404\">\r\n    <h1>404</h1>\r\n    <h3>Page Not Found</h3>\r\n  </div>\r\n);\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Header } from './Header/Header';\r\nimport { Drawer } from './Drawer/Drawer';\r\nimport { PageLoader } from '../Shared/PageLoader/PageLoader';\r\nimport useAuthActions from '../../hooks/user/useAuthActions';\r\nimport useBusinessData from '../../hooks/data-loaders/useBusinessData';\r\nimport useDrawer from '../../hooks/useDrawer';\r\nimport './Layout.css';\r\nimport useGlobalErrorMessage from '../../hooks/useGlobalErrorMessage';\r\nimport useGetUserSASLSummary from '../../hooks/user/useGetUserSASLSummary';\r\nimport useDiscounts from '../../hooks/useDiscounts';\r\nimport useTableOrder from '../../hooks/order-details/useTableOrder';\r\nimport { Page404 } from './Page404/Page404';\r\n\r\nexport const Layout = ({ isHome = false, children }) => {\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  const [openDrawer, handleOpen, handleClose, handleGoBack] = useDrawer();\r\n  const [logIn, logOut] = useAuthActions();\r\n  const [businessData, loading, error] = useBusinessData();\r\n  const [user, loyaltyAndOrderHistory] = useGetUserSASLSummary(true);\r\n\r\n  const { saslName, bannerImageURL, themeColors } = businessData;\r\n\r\n  useDiscounts(businessData);\r\n  useTableOrder();\r\n  useGlobalErrorMessage();\r\n\r\n  if (loading) {\r\n    return <PageLoader />;\r\n  }\r\n  return (\r\n    <>\r\n      <Header\r\n        themeColors={themeColors}\r\n        title={saslName}\r\n        isHome={isHome}\r\n        onBack={isHome ? handleOpen : handleGoBack}\r\n        bannerImageURL={bannerImageURL}\r\n      />\r\n      <Drawer\r\n        open={openDrawer}\r\n        onOpen={handleOpen}\r\n        onClose={handleClose}\r\n        user={user}\r\n        onLogin={logIn}\r\n        onLogout={logOut}\r\n      />\r\n      <div className={`page-content ${isHome ? '' : ' single-page'}`}>\r\n        {error ? (\r\n          <Page404 />\r\n        ) : (\r\n          <>{React.cloneElement(children, { businessData, user, loyaltyAndOrderHistory })}</>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nLayout.propTypes = {\r\n  isHome: PropTypes.bool,\r\n  children: PropTypes.any\r\n};\r\n","import { useState } from 'react';\r\nimport { useHistory, useParams, useLocation } from 'react-router-dom';\r\nexport default () => {\r\n  let { businessUrlKey } = useParams();\r\n  let history = useHistory();\r\n  const { search, pathname } = useLocation();\r\n  const [openDrawer, setOpenDrawer] = useState(false);\r\n  const handleOpen = () => setOpenDrawer(true);\r\n  const handleClose = () => setOpenDrawer(false);\r\n  const handleGoBack = () => {\r\n    return pathname.indexOf('shopping-cart') !== -1\r\n      ? history.push(`/${businessUrlKey}/order-details${search}`)\r\n      : history.push(`/${businessUrlKey}/${search}`);\r\n  }; /*history.goBack();*/\r\n  return [openDrawer, handleOpen, handleClose, handleGoBack];\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getBusinessData, updateGroups, hydrateBusinessData } from '../../redux/slices/business';\r\nimport { clearCart } from '../../redux/slices/shoppingCart';\r\nexport default () => {\r\n  const { businessUrlKey } = useParams();\r\n  const businessData = useSelector((state) => state.business.data);\r\n  const loading = useSelector((state) => state.business.loading);\r\n  const error = useSelector((state) => state.business.error);\r\n  const orderPickUp = useSelector((state) => state.shoppingCart.orderPickUp);\r\n  const dispatch = useDispatch();\r\n  const [isLoadedFromClient, setIsLoadedFromClient] = useState(false);\r\n  useEffect(() => {\r\n    if (window.__SASL_DATA__ && window.__SASL_DATA__ !== undefined && businessUrlKey) {\r\n      dispatch(\r\n        hydrateBusinessData({\r\n          businessData: window.__SASL_DATA__,\r\n          businessUrlKey\r\n        })\r\n      );\r\n    } else if (\r\n      (!businessData.urlKey || !businessData.saslName || !businessData.groups) &&\r\n      businessUrlKey !== undefined\r\n    ) {\r\n      console.log(businessUrlKey);\r\n      dispatch(getBusinessData(businessUrlKey)).then(() => {\r\n        // do additional work\r\n        setIsLoadedFromClient(true);\r\n        console.log('Business Data loaded.');\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [businessUrlKey]);\r\n  useEffect(() => {\r\n    if (isLoadedFromClient && businessData.ogTags) {\r\n      const { ogTags } = businessData;\r\n\r\n      if (ogTags) {\r\n        document.title = ogTags.title;\r\n        document.querySelector('meta[property=\"og:title\"]').setAttribute('content', ogTags.title);\r\n        document\r\n          .querySelector('meta[property=\"og:description\"]')\r\n          .setAttribute('content', ogTags.description);\r\n        document\r\n          .querySelector('meta[name=\"description\"]')\r\n          .setAttribute('content', ogTags.description);\r\n        console.log('CSR: Updated meta tags.');\r\n        setIsLoadedFromClient(false);\r\n      }\r\n    }\r\n  }, [isLoadedFromClient]);\r\n  useEffect(() => {\r\n    if (\r\n      businessData.hasGroupsBasedOnDay &&\r\n      orderPickUp.day &&\r\n      businessData.catalogs &&\r\n      businessData.catalogs.length > 0\r\n    ) {\r\n      const catalog = businessData.catalogs.filter(\r\n        ({ validDay }) => validDay.toLowerCase() === orderPickUp.day\r\n      );\r\n      if (catalog && catalog.length > 0 && catalog[0].groups) {\r\n        dispatch(updateGroups(catalog[0].groups));\r\n        dispatch(clearCart());\r\n      }\r\n    }\r\n  }, [orderPickUp]);\r\n  return [businessData, loading, error];\r\n};\r\n","import { useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addCartItem, addDiscount, addGroupDiscount } from '../redux/slices/shoppingCart';\r\nimport { message } from 'antd';\r\nimport { transformLoyaltyToDiscount, transformPromotionToDiscount } from '../utils/helpers';\r\nimport { discountTypes } from '../config/constants';\r\n\r\nexport default (businessData) => {\r\n  const { search } = useLocation();\r\n  const dispatch = useDispatch();\r\n  const allDiscounts = useSelector((state) => state.shoppingCart.discounts.byId);\r\n  const loyaltyAndOrderHistory = useSelector((state) => state.loyaltyAndOrderHistory.data);\r\n  const handleDiscount = (uuid, discountItem, discountType, addItemToCart = true) => {\r\n    const { applicableItemUUID, applicableGroup } = discountItem;\r\n    const { itemsById } = businessData;\r\n\r\n    if (discountItem && applicableItemUUID) {\r\n      dispatch(\r\n        addDiscount({\r\n          id: uuid,\r\n          discount: {\r\n            ...discountItem,\r\n            discountType\r\n          }\r\n        })\r\n      );\r\n    }\r\n\r\n    if (discountItem && applicableGroup) {\r\n      dispatch(\r\n        addGroupDiscount({\r\n          id: applicableGroup,\r\n          discount: {\r\n            ...discountItem,\r\n            discountType: discountTypes.GROUP_DISCOUNT\r\n          }\r\n        })\r\n      );\r\n    }\r\n\r\n    if (applicableItemUUID && itemsById[applicableItemUUID] && addItemToCart) {\r\n      dispatch(\r\n        addCartItem({\r\n          ...itemsById[applicableItemUUID]\r\n          /*price: calculateDiscountedPrice(\r\n              type,\r\n              discount,\r\n              itemsById[applicableItemUUID].price\r\n            ),\r\n            discountedPrice: itemsById[applicableItemUUID].price,\r\n            promoCodeTitle: title*/\r\n        })\r\n      );\r\n      message.success('Success. Promo Item added to cart.', 5);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (businessData) {\r\n      const urlParams = new URLSearchParams(search);\r\n      const type = urlParams.get('t');\r\n      const { discounts, promotions } = businessData;\r\n      if (type) {\r\n        if (type === 'd') {\r\n          const uuid = urlParams.get('u');\r\n          if (uuid && discounts && discounts.length > 0 && !allDiscounts[uuid]) {\r\n            const discountItem = discounts.filter(({ discountUUID }) => discountUUID === uuid);\r\n\r\n            if (discountItem && discountItem.length > 0) {\r\n              handleDiscount(uuid, discountItem[0], discountTypes.DISCOUNT);\r\n            }\r\n          }\r\n        }\r\n        if (type === 'p') {\r\n          const uuid = urlParams.get('u');\r\n          if (uuid && promotions && promotions.length > 0 && !allDiscounts[uuid]) {\r\n            const promotionItem = promotions.filter((promotion) => promotion.uuid === uuid);\r\n\r\n            if (promotionItem && promotionItem.length > 0) {\r\n              const transformedPromotion = transformPromotionToDiscount(promotionItem[0]);\r\n              if (transformedPromotion) {\r\n                handleDiscount(uuid, transformedPromotion, discountTypes.PROMOTION);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }, [businessData]);\r\n\r\n  useEffect(() => {\r\n    if (businessData && loyaltyAndOrderHistory) {\r\n      const { loyaltyProgram, serviceLocationId, serviceAccommodatorId } = businessData;\r\n      const loyaltyStatus = loyaltyAndOrderHistory.loyaltyForUser?.loyaltyStatus;\r\n      if (loyaltyStatus) {\r\n        const { applyDiscount, priceItem, loyaltyUUID, promoPrice } = loyaltyStatus;\r\n\r\n        if (\r\n          !allDiscounts[loyaltyUUID] &&\r\n          loyaltyUUID &&\r\n          priceItem.uuid &&\r\n          promoPrice !== undefined &&\r\n          applyDiscount\r\n        ) {\r\n          const transformedLoyalty = transformLoyaltyToDiscount({\r\n            ...loyaltyStatus,\r\n            serviceAccommodatorId,\r\n            serviceLocationId,\r\n            title: loyaltyProgram\r\n          });\r\n\r\n          handleDiscount(loyaltyUUID, transformedLoyalty, discountTypes.LOYALTY_STATUS, false);\r\n        }\r\n      }\r\n    }\r\n  }, [businessData, loyaltyAndOrderHistory]);\r\n\r\n  return [handleDiscount];\r\n};\r\n","import { useLocation } from 'react-router-dom';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setTablePath } from '../../redux/slices/shoppingCart';\r\nimport { message } from 'antd';\r\nexport default () => {\r\n  const { search } = useLocation();\r\n  const dispatch = useDispatch();\r\n  const tablePath = useSelector((state) => state.shoppingCart.tablePath);\r\n\r\n  useEffect(() => {\r\n    if (!tablePath) {\r\n      let tableId = null;\r\n      const urlParams = new URLSearchParams(search);\r\n      const type = urlParams.get('t');\r\n\r\n      if (type && type === 't') {\r\n        tableId = urlParams.get('tableId');\r\n        if (tableId) {\r\n          dispatch(setTablePath(tableId));\r\n          message.success(`You are ordering for Table # ${tableId}`, 5);\r\n        }\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [tablePath]);\r\n};\r\n","import { useSelector, useDispatch } from 'react-redux';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { message } from 'antd';\r\nimport { resetGlobalErrorMessage } from '../redux/slices/globalError';\r\nexport default () => {\r\n  const dispatch = useDispatch();\r\n  const globalErrorMsg = useSelector((state) => state.globalError.errorMessage);\r\n  const [msgInstance, setMsgInstance] = useState(null);\r\n  useEffect(() => {\r\n    if (globalErrorMsg) {\r\n      message.error(\r\n        <div onClick={() => dispatch(resetGlobalErrorMessage())}>\r\n          An error has occurred. <br />\r\n          <br /> {globalErrorMsg}\r\n        </div>,\r\n        5,\r\n        () => {\r\n          dispatch(resetGlobalErrorMessage());\r\n          setMsgInstance(null);\r\n        }\r\n      );\r\n      setMsgInstance(true);\r\n    } else if (msgInstance && !globalErrorMsg) {\r\n      message.destroy();\r\n      setMsgInstance(null);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [globalErrorMsg]);\r\n};\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useCookies as useReactCookie } from 'react-cookie';\r\nimport { Layout } from '../../components/Layout/Layout';\r\nimport { USER_COOKIE } from '../../config/constants';\r\n\r\nexport const ProtectedRoute = ({ component: Component, user, ...rest }) => {\r\n  const [cookies] = useReactCookie();\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        return user || cookies[USER_COOKIE] ? (\r\n          <Layout {...rest} {...props}>\r\n            <Component {...rest} {...props} />\r\n          </Layout>\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: `/${props.match.params.businessUrlKey}/login`,\r\n              state: {\r\n                from: props.location\r\n              }\r\n            }}\r\n          />\r\n        );\r\n      }}\r\n    />\r\n  );\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Route } from 'react-router-dom';\r\nimport { Layout } from '../../components/Layout/Layout';\r\n\r\nexport const PublicRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        return (\r\n          <Layout {...rest} {...props}>\r\n            <Component {...rest} {...props} />\r\n          </Layout>\r\n        );\r\n      }}\r\n    />\r\n  );\r\n};\r\nPublicRoute.propTypes = {\r\n  component: PropTypes.any\r\n};\r\n","import React from 'react';\r\nimport { AiOutlineCheckCircle } from 'react-icons/ai/index';\r\nimport { Spin } from 'antd';\r\n\r\nexport const CheckoutLoading = () => (\r\n  <div className=\"success-payment\">\r\n      <Spin size=\"large\" />\r\n  </div>\r\n);\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nimport './CheckoutIFrameRedirect.css';\r\nimport { Card } from '../Shared/Card/Card';\r\nimport { CheckoutSuccess } from './CheckoutSuccess';\r\nimport { CheckoutLoading } from './CheckoutLoading';\r\nfunction inIframe() {\r\n  try {\r\n    return window.self !== window.top;\r\n  } catch (e) {\r\n    return true;\r\n  }\r\n}\r\n//TODO: add a loader here\r\nexport const CheckoutIFrameRedirect = () => {\r\n  const { search } = useLocation();\r\n  const [paymentStatus, setPaymentStatus] = useState(null);\r\n  useEffect(() => {\r\n    const urlParams = new URLSearchParams(search);\r\n    const hostedPaymentStatus = urlParams.get('HostedPaymentStatus');\r\n\r\n    if (inIframe() && (hostedPaymentStatus === 'Cancelled' || hostedPaymentStatus === 'Complete')) {\r\n      setPaymentStatus(hostedPaymentStatus);\r\n      window.top.postMessage(\r\n        {\r\n          error: false,\r\n          message: search\r\n        },\r\n        window.location.origin\r\n      );\r\n    }\r\n  }, [search]);\r\n  return (\r\n    <Card className={'redirect-container'}>\r\n      <CheckoutLoading />\r\n    </Card>\r\n  );\r\n/*   return <Card className={'redirect-container'}>\r\n    {paymentStatus === 'Complete' ? <CheckoutSuccess /> : <CheckoutLoading />}\r\n  </Card>*/\r\n};\r\n","import React from 'react';\r\n\r\nimport { Header } from '../../components/Layout/Header/Header';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport const SuspenseFallback = () => {\r\n  const businessData = useSelector((state) => state.business.data);\r\n  const { saslName, bannerImageURL, themeColors } = businessData;\r\n  const pseudoBack = () => {};\r\n  return (\r\n    <>\r\n      <Header title={saslName} isHome={false} onBack={pseudoBack} bannerImageURL={bannerImageURL} />\r\n      <div className={`page-content`} />\r\n    </>\r\n  );\r\n};\r\n","import React, { lazy, Suspense } from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\n\r\nimport HomePage from '../pages';\r\n// import ProductItemPage from '../pages/product-item';\r\n// import OrderHistoryPage from '../pages/order-history';\r\n// import OrderDetailsPage from '../pages/order-details';\r\nimport { ProtectedRoute } from './ProtectedRoute/ProtectedRoute';\r\nimport { PublicRoute } from './PublicRoute/PublicRoute';\r\n// import ShoppingCartItemPage from '../pages/shopping-cart-item';\r\n// import  UserSettingsPage  from '../pages/user-settings';\r\n// import OrderStatusPage from '../pages/order-status';\r\n// import OrderDetailsPage from '../pages/order-details';\r\n// import SignUpPage from '../pages/sign-up';\r\n// import LoginPage from '../pages/login';\r\nimport { CheckoutIFrameRedirect } from '../components/Checkout/CheckoutIFrameRedirect';\r\nimport { SuspenseFallback } from './SuspenseFallback/SuspenseFallback';\r\n\r\n// const HomePage = lazy(() => import('../pages/../pages'));\r\nconst OrderDetailsPage = lazy(() => import('../pages/order-details'));\r\nconst OrderHistoryPage = lazy(() => import('../pages/order-history'));\r\nconst ProductItemPage = lazy(() => import('../pages/product-item'));\r\nconst ShoppingCartItemPage = lazy(() => import('../pages/shopping-cart-item'));\r\nconst UserSettingsPage = lazy(() => import('../pages/user-settings'));\r\nconst OrderStatusPage = lazy(() => import('../pages/order-status'));\r\nconst SignUpPage = lazy(() => import('../pages/sign-up'));\r\nconst LoginPage = lazy(() => import('../pages/login'));\r\n\r\nexport const Routes = ({ user }) => (\r\n  <Router>\r\n    <Suspense fallback={<SuspenseFallback />}>\r\n      <Switch>\r\n        <ProtectedRoute\r\n          path=\"/:businessUrlKey/order-history\"\r\n          user={user}\r\n          component={OrderHistoryPage}\r\n        />\r\n        <ProtectedRoute\r\n          path=\"/:businessUrlKey/user-settings\"\r\n          user={user}\r\n          component={UserSettingsPage}\r\n        />\r\n        <ProtectedRoute\r\n          path=\"/:businessUrlKey/order-status/:orderUUID\"\r\n          user={user}\r\n          component={OrderStatusPage}\r\n        />\r\n\r\n        <PublicRoute path=\"/:businessUrlKey/order-details\" component={OrderDetailsPage} />\r\n\r\n        <PublicRoute path=\"/:businessUrlKey/sign-up\" component={SignUpPage} />\r\n        <PublicRoute path=\"/:businessUrlKey/login\" component={LoginPage} />\r\n        <PublicRoute\r\n          path=\"/:businessUrlKey/shopping-cart/:itemIndex\"\r\n          component={ShoppingCartItemPage}\r\n        />\r\n        <Route path=\"/:businessUrlKey/checkout-redirect\" component={CheckoutIFrameRedirect} />\r\n        <PublicRoute path=\"/:businessUrlKey/p/:productId\" component={ProductItemPage} />\r\n        <PublicRoute path=\"/:businessUrlKey\" isHome component={HomePage} />\r\n      </Switch>\r\n    </Suspense>\r\n  </Router>\r\n);\r\n","import React from 'react';\r\nimport { Routes } from './routes';\r\n\r\nimport { useSelector } from 'react-redux';\r\nfunction App() {\r\n  const user = useSelector((state) => state.auth.user);\r\n  const theme = 'default';\r\n  return (\r\n    <div className={`${theme}-theme app`}>\r\n      <Routes user={user} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './redux/store';\r\nimport 'antd/lib/tabs/style/css';\r\nimport 'antd/lib/button/style/css';\r\nimport 'antd/lib/select/style/css';\r\nimport 'antd/lib/menu/style/css';\r\nimport 'antd/lib/drawer/style/css';\r\nimport 'antd/lib/input/style/css';\r\nimport 'antd/lib/input-number/style/css';\r\nimport 'antd/lib/checkbox/style/css';\r\nimport 'antd/lib/radio/style/css';\r\nimport 'antd/lib/slider/style/css';\r\nimport 'antd/lib/switch/style/css';\r\nimport 'antd/lib/timeline/style/css';\r\nimport 'antd/lib/message/style/css';\r\nimport 'antd/lib/alert/style/css';\r\nimport './index.css';\r\nimport './styles/theme/default.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n","import axios from 'axios';\r\nimport { getQueryStringParams } from '../utils/helpers';\r\n\r\nconst urlParams = getQueryStringParams();\r\nconst server = urlParams.get('server');\r\nconst demo = urlParams.get('demo');\r\nconst throwError = urlParams.has('throw') && urlParams.get('throw') === 'true' ? 'throw=true' : '';\r\nexport const isDemo = demo === 'true';\r\nconst baseUrl = server\r\n    ? `http://${server}`\r\n    : `https://${isDemo ? 'simfel.com' : 'communitylive.ws'}`;\r\n\r\nconst request = axios.create({\r\n    baseURL: baseUrl\r\n});\r\nrequest.interceptors.request.use(\r\n  (config) => {\r\n    // Do something before request is sent\r\n    config.url =\r\n      config.url.indexOf('?') !== -1\r\n        ? `${config.url}&${throwError}`\r\n        : `${config.url}?${throwError}`;\r\n    return config;\r\n  },\r\n  (error) => {\r\n    // Do something with request error\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n//TODO: remove in production\r\nrequest.interceptors.response.use(\r\n    (response) => {\r\n        // Do something with response data\r\n        return response;\r\n    },\r\n    (error) => {\r\n        // Do something with response error\r\n        return Promise.reject(error?.response?.data?.error?.message);\r\n    }\r\n);\r\nexport {\r\n    request,\r\n    demo\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Card.css';\r\nexport const Card = ({ children, className }) => (\r\n  <div className={`card p-default bg-secondary ${className}`}>{children}</div>\r\n);\r\n\r\nCard.propTypes = {\r\n  children: PropTypes.any.isRequired\r\n};\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { orderAPI } from '../../services/api';\r\nimport { calculateDiscountedPrice } from '../../utils/helpers';\r\n\r\nconst initialState = {\r\n  orderPickUp: {\r\n    deliveryType: 'PICK_UP'\r\n  },\r\n  tablePath: null,\r\n  items: [],\r\n  itemsWithDiscounts: [],\r\n  priceSubTotal: 0,\r\n  discounts: {\r\n    byId: {},\r\n    allIds: []\r\n  },\r\n  groupDiscounts: {\r\n    byId: {},\r\n    allIds: []\r\n  },\r\n  loading: false,\r\n  error: false\r\n};\r\nexport const createOrder = createAsyncThunk('order/create', async (orderData) => {\r\n  const response = await orderAPI.createOrder(orderData);\r\n  return response.data;\r\n});\r\nconst getPriceSubTotal = (items) =>\r\n  items.reduce(\r\n    (a, b) => a + (b.discountedPrice !== undefined ? b.discountedPrice : b.price) * b.quantity,\r\n    0\r\n  );\r\nconst shoppingCartSlice = createSlice({\r\n  name: 'shoppingCart',\r\n  initialState: initialState,\r\n  reducers: {\r\n    setOrderPickUp: (state, action) => {\r\n      state.orderPickUp = action.payload;\r\n    },\r\n    addCartItem: (state, action) => {\r\n      state.items.push(action.payload);\r\n    },\r\n    editCartItem: (state, action) => {\r\n      state.items[action.payload.itemIndex] = action.payload.item;\r\n    },\r\n    deleteCartItem: (state, action) => {\r\n      state.items.splice(action.payload, 1);\r\n    },\r\n    clearCart: (state, action) => {\r\n      state.items = [];\r\n      state.priceSubTotal = 0;\r\n    },\r\n    addDiscount: (state, action) => {\r\n      state.discounts.byId[action.payload.id] = action.payload.discount;\r\n      state.discounts.allIds.push(action.payload.id);\r\n    },\r\n    addGroupDiscount: (state, action) => {\r\n      state.groupDiscounts.byId[action.payload.id] = action.payload.discount;\r\n      state.groupDiscounts.allIds.push(action.payload.id);\r\n    },\r\n    setTablePath: (state, action) => {\r\n      state.tablePath = action.payload;\r\n    },\r\n    resetOrderError: (state, action) => {\r\n      state.error = false;\r\n    }\r\n  },\r\n  extraReducers: (builder) =>\r\n    builder\r\n      .addCase(createOrder.pending, (state, action) => {\r\n        state.loading = true;\r\n        state.error = false;\r\n      })\r\n      .addCase(createOrder.fulfilled, (state, action) => {\r\n        state = initialState;\r\n      })\r\n      .addCase(createOrder.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = true;\r\n      })\r\n      .addMatcher(\r\n        (action) => action.type.endsWith('CartItem'),\r\n        (state, action) => {\r\n          const updateDiscounts = (\r\n            item,\r\n            itemDiscount,\r\n            itemsWithDiscounts,\r\n            isGroupDiscount = false\r\n          ) => {\r\n            if (itemDiscount) {\r\n              const { type, discount, title, discountUUID } = itemDiscount;\r\n              //removing previous discount if itemVersion doesn't match\r\n              //for example if discount was applied for a small pizza, then user changed it's size to large\r\n              //in this case we need to update item and remove discount\r\n              if (\r\n                itemDiscount.priceItem &&\r\n                itemDiscount.priceItem.itemVersion !== item.itemVersion\r\n              ) {\r\n                const { discountUUID, discountedPrice, promoCodeTitle, ...rest } = item;\r\n                return { ...rest };\r\n              }\r\n\r\n              const checkAllowApplyDiscount = () => {\r\n                return !isGroupDiscount\r\n                  ? !itemsWithDiscounts[item.uuid]\r\n                  : !itemsWithDiscounts[item.uuid] && !Object.keys(itemsWithDiscounts).length;\r\n              };\r\n\r\n              if (checkAllowApplyDiscount()) {\r\n                //removing previous discount if terms were changed for an item\r\n                //for example discount was applied for an item with quantity == 1\r\n                //then user changed this item quantity to be 2+\r\n                //so we need to update that item and remove discount\r\n                if (item.discountUUID || +item.quantity > 1) {\r\n                  if (+item.quantity > 1) {\r\n                    const { discountUUID, discountedPrice, promoCodeTitle, ...rest } = item;\r\n                    return { ...rest };\r\n                  }\r\n\r\n                  itemsWithDiscounts[item.uuid] = itemDiscount;\r\n                  return { ...item };\r\n                }\r\n\r\n                itemsWithDiscounts[item.uuid] = itemDiscount;\r\n\r\n                return {\r\n                  ...item,\r\n                  price: item.price,\r\n                  discountedPrice: calculateDiscountedPrice(type, discount, item.price),\r\n                  discountUUID,\r\n                  promoCodeTitle: title\r\n                };\r\n              } else {\r\n                //clear discount from item if terms aren't match\r\n                //same as above, some terms were changed so we need to remove a discount from an item\r\n                const { discountUUID, discountedPrice, promoCodeTitle, ...rest } = item;\r\n                return { ...rest };\r\n              }\r\n            }\r\n\r\n            return item;\r\n          };\r\n\r\n          //single item discounts\r\n          if (state.items && state.items.length > 0 && state.discounts.allIds.length > 0) {\r\n            let itemsWithDiscounts = {};\r\n            state.items = state.items.map((item, index) => {\r\n              const itemDiscountKey = Object.keys(state.discounts.byId).filter(\r\n                (key) => state.discounts.byId[key].applicableItemUUID === item.uuid\r\n              )[0];\r\n\r\n              let itemDiscount = state.discounts.byId[itemDiscountKey];\r\n\r\n              return updateDiscounts(item, itemDiscount, itemsWithDiscounts);\r\n            });\r\n            state.itemsWithDiscounts = itemsWithDiscounts;\r\n          }\r\n\r\n          //group discounts\r\n          if (state.items && state.items.length > 0 && state.groupDiscounts.allIds.length > 0) {\r\n            const itemsWithGroupDiscounts = {};\r\n            state.items = state.items.map((item, index) => {\r\n              const itemDiscountKey = Object.keys(state.groupDiscounts.byId).filter(\r\n                (key) => state.groupDiscounts.byId[key].applicableGroup === item.groupId\r\n              )[0];\r\n\r\n              let itemDiscount = state.groupDiscounts.byId[itemDiscountKey];\r\n\r\n              return updateDiscounts(item, itemDiscount, itemsWithGroupDiscounts, true);\r\n            });\r\n            state.itemsWithGroupDiscounts = itemsWithGroupDiscounts;\r\n          }\r\n\r\n          state.priceSubTotal = getPriceSubTotal(state.items);\r\n        }\r\n      )\r\n  // and provide a default case if no other handlers matched\r\n  // .addDefaultCase((state, action) => {})\r\n});\r\nexport const {\r\n  addCartItem,\r\n  editCartItem,\r\n  deleteCartItem,\r\n  clearCart,\r\n  setOrderPickUp,\r\n  addDiscount,\r\n  addGroupDiscount,\r\n  setTablePath,\r\n  resetOrderError\r\n} = shoppingCartSlice.actions;\r\nexport const shoppingCartReducer = shoppingCartSlice.reducer;\r\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { authAPI } from '../../services/api';\r\n\r\nexport const loginRequest = createAsyncThunk('auth/login', async (credentials) => {\r\n  const response = await authAPI.login(credentials);\r\n  return response.data;\r\n});\r\nexport const registerNewMemberRequest = createAsyncThunk(\r\n  'auth/registerNewMember',\r\n  async (credentials) => {\r\n    const response = await authAPI.registerNewMember(credentials);\r\n    return response.data;\r\n  }\r\n);\r\nexport const updateEmailMobileNamesForUserRequest = createAsyncThunk(\r\n  'auth/updateEmailMobileNamesForUser',\r\n  async (payload) => {\r\n    const response = await authAPI.updateEmailMobileNamesForUser(payload);\r\n    return response.data;\r\n  }\r\n);\r\nexport const getRegistrationStatusRequest = createAsyncThunk(\r\n  'auth/getRegistrationStatus',\r\n  async (credentials) => {\r\n    const response = await authAPI.getRegistrationStatus(credentials);\r\n    return response.data;\r\n  }\r\n);\r\nexport const getCommunityExpressUserSASLSummaryRequest = createAsyncThunk(\r\n  'auth/getCommunityExpressUserSASLSummary',\r\n  async (credentials) => {\r\n    const response = await authAPI.getCommunityExpressUserSASLSummary(credentials);\r\n    return response.data;\r\n  }\r\n);\r\nconst authState = {\r\n  user: null,\r\n  authenticationStatus: null,\r\n  loading: false,\r\n  error: false\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState: authState,\r\n  reducers: {\r\n    login: (state, action) => {\r\n      state.user = action.payload;\r\n    },\r\n    logout: (state, action) => {\r\n      state.user = null;\r\n      state.authenticationStatus = null;\r\n    },\r\n    setAuthenticationStatus: (state, action) => {\r\n      state.authenticationStatus = action.payload;\r\n    }\r\n  },\r\n  extraReducers: {\r\n    [loginRequest.pending]: (state, action) => {\r\n      state.loading = true;\r\n      state.error = false;\r\n    },\r\n    [loginRequest.fulfilled]: (state, action) => {\r\n      state.user = action.payload;\r\n      state.loading = false;\r\n    },\r\n    [loginRequest.rejected]: (state, action) => {\r\n      //TODO: Need to handle this in a UI\r\n      state.error = action.error.message;\r\n      state.loading = false;\r\n    },\r\n    [registerNewMemberRequest.pending]: (state, action) => {\r\n      state.loading = true;\r\n      state.error = false;\r\n    },\r\n    [registerNewMemberRequest.fulfilled]: (state, action) => {\r\n      state.user = action.payload;\r\n      state.loading = false;\r\n    },\r\n    [registerNewMemberRequest.rejected]: (state, action) => {\r\n      //TODO: Need to handle this in a UI\r\n      state.error = action.error.message;\r\n      state.loading = false;\r\n    },\r\n    [updateEmailMobileNamesForUserRequest.pending]: (state, action) => {\r\n      state.loading = true;\r\n      state.error = false;\r\n    },\r\n    [updateEmailMobileNamesForUserRequest.fulfilled]: (state, action) => {\r\n      state.user = action.payload;\r\n      state.loading = false;\r\n    },\r\n    [updateEmailMobileNamesForUserRequest.rejected]: (state, action) => {\r\n      //TODO: Need to handle this in a UI\r\n      state.error = action.error.message;\r\n      state.loading = false;\r\n    },\r\n    [getCommunityExpressUserSASLSummaryRequest.pending]: (state, action) => {\r\n      state.loading = true;\r\n      state.error = false;\r\n    },\r\n    [getCommunityExpressUserSASLSummaryRequest.fulfilled]: (state, action) => {\r\n      state.user = action.payload;\r\n      state.loading = false;\r\n    },\r\n    [getCommunityExpressUserSASLSummaryRequest.rejected]: (state, action) => {\r\n      //TODO: Need to handle this in a UI\r\n      state.error = action.error.message;\r\n      state.loading = false;\r\n    }\r\n  }\r\n});\r\nexport const { login, logout, setAuthenticationStatus } = authSlice.actions;\r\nexport const authReducer = authSlice.reducer;\r\n","import { request, demo } from './request';\r\n\r\nexport const businessAPI = {\r\n  getBusinessData: (urlKey) =>\r\n    request.get(`/apptsvc/rest/sasl/getCatalogAndSiteletteDataModelByURLkey`, {\r\n      params: {\r\n        urlKey\r\n      }\r\n    }),\r\n  getOpeningHours: (params) =>\r\n    request.get(`/apptsvc/rest/sasl/getOpeningHours`, {\r\n      params\r\n    })\r\n};\r\nexport const authAPI = {\r\n  login: (credentials) =>\r\n    request({\r\n      method: 'post',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true,\r\n      url: `/apptsvc/rest/authentication/login`,\r\n      data: credentials\r\n    }),\r\n  getRegistrationStatus: (params) =>\r\n    request.get(`/apptsvc/rest/authentication/getRegistrationStatus`, {\r\n      params\r\n    }),\r\n  getCommunityExpressUserSASLSummary: (params) =>\r\n    request.get(`/apptsvc/rest/usersasl/getCommunityExpressUserSASLSummary`, {\r\n      params\r\n    }),\r\n  registerNewMember: (credentials) =>\r\n    request({\r\n      method: 'post',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true,\r\n      url: `/apptsvc/rest/authentication/registerNewMemberViaPostBody`,\r\n      data: credentials\r\n    }),\r\n  updateEmailMobileNamesForUser: ({ credentials, user }) =>\r\n    request({\r\n      method: 'put',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true,\r\n      url: `/apptsvc/rest/authentication/updateEmailMobileNamesForUser?UID=${user.uid}`,\r\n      data: credentials\r\n    })\r\n};\r\n\r\nexport const userAPI = {\r\n  getLoyaltyAndOrderHistory: (params) =>\r\n    request.get(`apptsvc/rest/usersasl/getUserSASLLoyaltyOrderHistoryData`, {\r\n      params\r\n    })\r\n};\r\n\r\nexport const orderAPI = {\r\n  createOrder: (data) =>\r\n    request({\r\n      method: 'post',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true,\r\n      url: `/apptsvc/rest/retail/createAdhocOrderWeb?UID=${data.uid}`,\r\n      data: data\r\n    }),\r\n  getOrderStatus: (params) =>\r\n    request.get(`/apptsvc/rest/retail/retrieveOrderStatusData`, {\r\n      params\r\n    })\r\n};\r\nexport const paymentAPI = {\r\n  getTransactionSetupID: (data) =>\r\n    request({\r\n      method: 'post',\r\n      crossDomain: true,\r\n      url: `/apptsvc/rest/ext/vantivTransactionSetup2`,\r\n      data: { ...data, demo: demo && demo === 'true' }\r\n    }),\r\n  getOrderStatus: (params) =>\r\n    request.get(`/apptsvc/rest/retail/retrieveOrderStatusData`, {\r\n      params\r\n    })\r\n};\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState = {\r\n  data: null,\r\n  loading: false,\r\n  error: false\r\n};\r\n\r\nconst loyaltyAndOrderHistorySlice = createSlice({\r\n  name: 'loyaltyAndOrderHistory',\r\n  initialState: initialState,\r\n  reducers: {\r\n    setLoyaltyAndOrderHistoryData: (state, action) => {\r\n      state.data = action.payload;\r\n    },\r\n    resetData: (state, action) => {\r\n      state.data = null;\r\n    }\r\n  }\r\n});\r\nexport const { setLoyaltyAndOrderHistoryData, resetData } = loyaltyAndOrderHistorySlice.actions;\r\nexport const loyaltyAndOrderHistoryReducer = loyaltyAndOrderHistorySlice.reducer;\r\n","import { useCookies as useReactCookie } from 'react-cookie/es6';\r\nimport { USER_COOKIE } from '../../config/constants';\r\n\r\nconst cookieSettings = {\r\n  domain: window.location.hostname,\r\n  path: `/`,\r\n  expires: new Date(new Date().setFullYear(new Date().getFullYear() + 1))\r\n};\r\nexport default () => {\r\n  const [cookies, setCookie, removeCookie] = useReactCookie([USER_COOKIE]);\r\n\r\n  const handleSetCookie = (value) => {\r\n    setCookie(USER_COOKIE, value, cookieSettings);\r\n  };\r\n  const handleRemoveCookie = () => {\r\n    removeCookie(USER_COOKIE, cookieSettings);\r\n  };\r\n\r\n  return [cookies[USER_COOKIE], handleSetCookie, handleRemoveCookie];\r\n};\r\n"],"sourceRoot":""}