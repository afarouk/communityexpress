(this["webpackJsonpyoudash-mobile-app"]=this["webpackJsonpyoudash-mobile-app"]||[]).push([[10],{310:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1),i=n.n(a),r=(n(311),function(e){var t=e.onSubmit,n=e.children,a=e.className,r=void 0===a?"":a;return i.a.createElement("form",{onSubmit:t,className:"form ".concat(r)},n)})},311:function(e,t,n){},316:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1),i=n.n(a),r=n(411),c=(n(317),r.a.TextArea),s=function(e){var t=e.value,n=e.placeholder,a=e.onTextChange;return i.a.createElement("div",{className:"comments bg-secondary"},i.a.createElement(c,{className:"bg-secondary",placeholder:n,multiple:!0,rows:4,value:t,onChange:a}))}},317:function(e,t,n){},319:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var a=n(11),i=n(8),r=n(1),c=n(63),s=function(e,t){var n=0,a=0,r=t.map((function(t){return t&&t.subSubItems&&t.subSubItems.length?Object(i.a)(Object(i.a)({},t),{},{subSubItems:t.subSubItems.map((function(t){if(t.versionPriceAdjustment&&t.versionPriceAdjustment.length>0){var i=t.versionPriceAdjustment.filter((function(t){return t.versionId===e}));i&&i.length>0&&t.priceAdjustment&&i[0].cost&&(t.isSelected&&(n+=t.priceAdjustment,a+=i[0].cost),t.priceAdjustment=i[0].cost)}else!t.versionPriceAdjustment&&t.priceAdjustment&&t.isSelected&&(n+=t.priceAdjustment,a+=t.priceAdjustment);return t}))}):t}));return{oldPriceDifference:n,newPriceDifference:a,items:r}};t.a=function(e){var t=Object(r.useState)(null),n=Object(a.a)(t,2),o=n[0],u=n[1];return Object(r.useEffect)((function(){e&&"undefined"!==typeof e&&u(Object(c.e)(e,(function(t){e.quantity||(t.quantity=1)})))}),[e]),[o,function(e,t,n,a,r,s,m){u(Object(c.e)(o,(function(c){if(m&&(c.itemOptions[t][e].subSubItems=c.itemOptions[t][e].subSubItems.map((function(e){if(e.priceAdjustment&&e.isSelected){var t=c.price-=e.priceAdjustment;c.price=t>=0?t:0}return Object(i.a)(Object(i.a)({},e),{},{isSelected:!1})}))),c.itemOptions[t][e].subSubItems[n][a]=s,r&&s)c.price+=r;else if(r&&!s){var o=c.price-=r;c.price=o>=0?o:0}var u=c.itemOptions[t][e],l=u.maxSubSubCount;u.minSubSubCount;if(l&&!m){var d=c.itemOptions[t][e].subSubItems.filter((function(e){return e.isSelected})).length;c.itemOptions[t][e].subSubItems=d===l?c.itemOptions[t][e].subSubItems.map((function(e){return e.isSelected?e:Object(i.a)(Object(i.a)({},e),{},{isDisabled:!0})})):c.itemOptions[t][e].subSubItems.map((function(e){return e.isDisabled?Object(i.a)(Object(i.a)({},e),{},{isDisabled:!1}):e}))}})))},function(){u(Object(c.e)(o,(function(e){e.quantity=e.quantity+1})))},function(){u(Object(c.e)(o,(function(e){e.quantity=e.quantity>1?e.quantity-1:1})))},function(e){u(Object(c.e)(o,(function(t){t.comments=e.target.value})))},function(e){u(Object(c.e)(o,(function(t){var n=t.itemVersions.filter((function(t){return t.itemVersion===e})),a=t.itemVersion,i=t.itemVersions.filter((function(e){return e.itemVersion===("object"===typeof a?a.versionId:a)}));if(i&&i.length>0&&n&&n.length>0){var r,c,o,u=i[0].price,m=n[0].price;t.price-=u,t.price+=m,t.itemVersion=n[0].itemVersion;var l=null===t||void 0===t||null===(r=t.itemOptions)||void 0===r?void 0:r.subOptions,d=null===t||void 0===t||null===(c=t.itemOptions)||void 0===c?void 0:c.subItems,p=null===t||void 0===t||null===(o=t.itemOptions)||void 0===o?void 0:o.subItemsLeft;if(l&&l.length){var b=s(e,l);t.itemOptions.subOptions=b.items,t.price-=b.oldPriceDifference,t.price+=b.newPriceDifference}if(d&&d.length){var f=s(e,d);t.itemOptions.subItems=f.items,t.price-=f.oldPriceDifference,t.price+=f.newPriceDifference}if(p&&p.length){var h=s(e,p);t.itemOptions.subItemsLeft=h.items,t.price-=h.oldPriceDifference,t.price+=h.newPriceDifference}}})))}]}},340:function(e,t,n){},341:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(1),i=n.n(a),r=n(306),c=n(119),s=function(e){var t=e.url,n=e.itemName;return i.a.createElement("img",{className:" product-image",src:t,alt:n})},o=function(e){var t=e.itemName,n=e.price,a=e.description;return i.a.createElement("div",{className:"product-description product-row"},i.a.createElement("div",{className:"product-title font-size-lg"},i.a.createElement("h4",{className:"primary-text"},t),i.a.createElement("h4",{className:"product-price"},n,"$")),i.a.createElement("div",{className:"product-description-text"},a))},u=(n(316),n(301)),m=n(403),l=n(342),d=n(71),p=n(20),b=function(e){var t=e.quantity,n=e.onQtyMinus,a=e.onQtyPlus,r=e.addToCart,c=e.isShoppingCart,s=e.preventOrdering,o={title:"YouDash French Bakery",text:"YouDash French Bakery - the best bakery in the world!",url:"https://youdash.co/french-bakery"};return i.a.createElement("div",{className:"product-order"},i.a.createElement("div",{className:"flex product-order__row"},i.a.createElement(u.a,{shape:"circle",onClick:function(){return Object(p.n)(o)},className:"product-order__share-btn font-size-md"},i.a.createElement(d.j,null)),i.a.createElement("div",{className:"product-order-counter"},i.a.createElement("span",{className:"product-order-counter-label font-size-sm"},"Quantity"),i.a.createElement(u.a,{type:"primary",shape:"circle",onClick:n},i.a.createElement(l.a,null)),i.a.createElement("span",{className:"primary-text product-order-counter-quantity"},t),i.a.createElement(u.a,{type:"primary",shape:"circle",onClick:a},i.a.createElement(l.b,null)))),s&&i.a.createElement(m.a,{message:"Business doesn't accept orders at this moment.",type:"warning",showIcon:!0}),i.a.createElement(u.a,{className:"font-size-md",type:"primary",block:!0,size:"large",disabled:!t||s,onClick:r},c?"Apply changes":"Add to cart"))},f=n(415),h=function(e){var t=e.title,n=e.promptText,a=e.addOns,c=e.parentPropName,s=e.parentPropIndex,o=e.onCheckboxChange,u=e.selectorType,m=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];o(s,c,e,"isSelected",t,n.target.checked,a)};return i.a.createElement("div",{className:"product-row bg-secondary"},i.a.createElement("h4",{className:"font-size-md"},t),n&&i.a.createElement("h5",{className:"font-size-sm"},n),"CHECKBOX"===u&&i.a.createElement("div",{className:"addons-row"},(a||[]).map((function(e,t){var n=e.subSubItemName,a=(e.id,e.isSelected),r=e.isDisabled,o=e.priceAdjustment;return i.a.createElement("div",{key:"".concat(c).concat(s).concat(t),className:"choice"},i.a.createElement(f.a,{disabled:r,onChange:function(e){return m(t,o,e)},checked:a},i.a.createElement("span",{className:"addon-label addon-label-checkbox font-size-sm"},n,o?i.a.createElement("span",{className:"addon-label-checkbox__price font-size-xs"},"($",o,")"):null)))}))),"RADIO"===u&&i.a.createElement("div",{className:"addons-row"},i.a.createElement("div",{className:"preferences"},a.map((function(e,t){var n=e.subSubItemName,a=(e.id,e.isSelected),o=e.isDisabled,u=e.priceAdjustment;return i.a.createElement("div",{key:"".concat(c).concat(s).concat(t),className:"choice"},i.a.createElement(r.a,{disabled:o,value:t,checked:a,onChange:function(e){return m(t,u,e,!0)}},i.a.createElement("span",{className:"addon-label font-size-sm"},n,u?i.a.createElement("span",{className:"addon-label-checkbox__price font-size-xs"},"($",u,")"):null)))})))))},v=function(e){var t=e.subItems,n=e.onCheckboxChange,a=e.parentPropName;return(t||[]).map((function(e,t){return e.selectorType?i.a.createElement(h,{maxSubSubCount:e.maxSubSubCount,minSubSubCount:e.minSubSubCount,selectorType:e.selectorType,parentPropName:a,parentPropIndex:t,onCheckboxChange:n,title:e.subItemName,promptText:e.promptText,addOns:e.subSubItems,key:"".concat(a).concat(t)}):null}))},E=n(121),O=n(52),g=(n(340),function(e){var t=e.side,n=void 0===t?"left":t;return i.a.createElement("h4",{className:"submenu-items-side-header submenu-items-side-header-".concat(n)},i.a.createElement("span",{className:"font-size-md"},n," side options")," ",i.a.createElement("span",{className:"options-circle"}))}),y=(n(310),function(e){var t,n,a,u=e.productItem,m=e.onQtyPlus,l=e.onQtyMinus,d=e.onCheckboxChange,f=e.addToCart,h=e.isShoppingCart,y=void 0!==h&&h,N=(e.onTextChange,e.onItemVersionChange),j=e.preventOrdering,C=u.mediaURLs,S=u.itemName,I=u.price,x=u.shortDescription,k=u.longDescription,P=(u.comments,u.canSplitLeftRight),V=null===u||void 0===u||null===(t=u.itemOptions)||void 0===t?void 0:t.subOptions,D=null===u||void 0===u||null===(n=u.itemOptions)||void 0===n?void 0:n.subItems,A=null===u||void 0===u||null===(a=u.itemOptions)||void 0===a?void 0:a.subItemsLeft,w=u.itemVersion&&"object"===typeof u.itemVersion?u.itemVersion.itemVersion:u.itemVersion,T=P&&D&&A;return i.a.createElement(c.a,null,u&&i.a.createElement(O.a,{className:"product"},i.a.createElement(E.a,null,i.a.createElement(s,{url:Object(p.j)(C),itemName:S})),i.a.createElement("div",{className:"p-default product-card__wrapper"},i.a.createElement(o,{itemName:S,description:k||x,price:I}),u.hasVersions&&u.itemVersions&&u.itemVersions.length>0&&i.a.createElement("div",{className:"product-card__item-versions"},i.a.createElement(r.a.Group,{onChange:function(e){return N(e.target.value)},value:w},u.itemVersions.map((function(e,t){var n=e.itemVersion,a=e.version1DisplayText;return i.a.createElement(r.a,{key:"itemVersion".concat(t),value:n},a)})))),i.a.createElement(v,{subItems:V,onCheckboxChange:d,parentPropName:"subOptions"}),T&&i.a.createElement(g,{side:"left"}),i.a.createElement(v,{subItems:A,onCheckboxChange:d,parentPropName:"subItemsLeft"}),T&&i.a.createElement(g,{side:"right"}),i.a.createElement(v,{subItems:D,onCheckboxChange:d,parentPropName:"subItems"}),i.a.createElement(b,{preventOrdering:j,quantity:u.quantity,onQtyPlus:m,onQtyMinus:l,addToCart:f,isShoppingCart:y}))))})},406:function(e,t,n){"use strict";n.r(t);var a=n(11),i=n(1),r=n.n(i),c=n(27),s=n(341),o=n(319),u=n(54),m=n(10);t.default=function(){var e=Object(i.useState)(null),t=Object(a.a)(e,2),n=t[0],l=t[1],d=Object(m.c)((function(e){return e.shoppingCart.items})),p=Object(c.i)(),b=p.businessUrlKey,f=p.itemIndex,h=Object(c.h)().search,v=Object(c.g)(),E=Object(m.b)();Object(i.useEffect)((function(){f&&d.length&&d[f]&&l(d[f])}),[d]);var O=Object(o.a)(n),g=Object(a.a)(O,6),y=g[0],N=g[1],j=g[2],C=g[3],S=g[4],I=g[5];return y?r.a.createElement(s.a,{isShoppingCart:!0,productItem:y,onCheckboxChange:N,onQtyPlus:j,onQtyMinus:C,addToCart:function(){E(Object(u.g)({item:y,itemIndex:f})),v.push("/".concat(b,"/order-details").concat(h))},onTextChange:S,onItemVersionChange:I}):null}}}]);
//# sourceMappingURL=10.d399d373.chunk.js.map