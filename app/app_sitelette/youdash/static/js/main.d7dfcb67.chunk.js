(this["webpackJsonpyoudash-mobile-app"]=this["webpackJsonpyoudash-mobile-app"]||[]).push([[3],{100:function(e,t,n){"use strict";var a=n(11),r=n(10),c=n(65),o=n(84),i=n(99);t.a=function(){var e=Object(r.b)(),t=Object(i.a)(),n=Object(a.a)(t,3),u=(n[0],n[1],n[2]);return[function(t){var n=t.userid,a=t.password;return e(Object(c.d)({userid:n,password:a}))},function(){u(),e(Object(c.e)()),e(Object(o.b)())}]}},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),r=n.n(a),c=(n(225),function(e){var t=e.children,n=e.className;return r.a.createElement("div",{className:"container ".concat(n)},t)})},120:function(e,t,n){"use strict";var a=n(11),r=n(1),c=n(19);t.a=function(e){var t=e.serviceStatus,n=Object(r.useState)(!1),o=Object(a.a)(n,2),i=o[0],u=o[1];return Object(r.useEffect)((function(){u(t&&(t===c.f.CALL_AHEAD||t===c.f.CLOSED))}),[t]),[i]}},121:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),r=n.n(a),c=(n(227),function(e){var t=e.children;return r.a.createElement("div",{className:"image-placeholder-bg"},t)})},148:function(e,t,n){"use strict";var a=n(8),r=n(11),c=n(10),o=n(65),i=n(84),u=n(1),l=n(100),s=n(99);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(c.b)(),n=Object(s.a)(),d=Object(r.a)(n,2),m=d[0],p=d[1],f=Object(l.a)(),b=Object(r.a)(f,2),g=(b[0],b[1]),v=Object(c.c)((function(e){return e.loyaltyAndOrderHistory.data})),y=Object(c.c)((function(e){return e.auth.user})),O=Object(c.c)((function(e){return e.auth.loading})),h=Object(c.c)((function(e){return e.business.data})),I=h.serviceAccommodatorId,j=h.serviceLocationId,E=Object(c.c)((function(e){return e.auth.authenticationStatus})),D=function(){m&&I&&j&&t(Object(o.b)({UID:m,serviceAccommodatorId:I,serviceLocationId:j}))};return Object(u.useEffect)((function(){m&&!E&&I&&j&&!O&&e&&t(Object(o.b)({UID:m,serviceAccommodatorId:I,serviceLocationId:j})).then((function(e){var n=e.payload;if(!e.error){var r=n.authenticationDetails,c=n.loyaltyOrderHistoryForUser,u=n.notification,l=n.priority,s=n.pollResults,d=r.userRegistrationDetails,m=r.action,p=r.welcomeMessage;if(r&&m&&m.enumText){switch(m.enumText){case"NO_ACTION":d&&t(Object(o.c)(Object(a.a)(Object(a.a)({},d),{},{welcomeMessage:p})));break;case"FORCE_RELOGIN":console.log("FORCE_RELOGIN");break;case"FORCE_LOGOUT":g();break;case"REFRESH_UID":console.log("REFRESH_UID")}t(Object(o.g)(m.enumText))}t(Object(i.c)(Object(a.a)(Object(a.a)({},c),{},{notification:u,pollResults:s,priority:l})))}}))}),[I,j]),Object(u.useEffect)((function(){y&&!m&&p(y.uid)}),[y]),[y,v,D,O]}},150:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(11),r=n(1),c=n.n(r),o=n(304),i=n(107),u=n(8),l=n(97),s=n(54),d=n(10),m=n(20),p=function(e){var t,n,c,o,p=Object(r.useState)([]),f=Object(a.a)(p,2),b=f[0],g=f[1],v=Object(r.useState)([]),y=Object(a.a)(v,2),O=y[0],h=y[1],I=Object(d.b)(),j=Object(d.c)((function(e){return e.shoppingCart.orderPickUp})),E=null===e||void 0===e||null===(t=e.pickUp)||void 0===t?void 0:t.pickUpTimes,D=null===e||void 0===e||null===(n=e.pickUp)||void 0===n?void 0:n.futureDays,U=null===e||void 0===e||null===(c=e.pickUp)||void 0===c||null===(o=c.address)||void 0===o?void 0:o.timeZone,C=function(e){I(Object(s.i)(e))},S=function(e){var t=N(e);h(t),C(Object(u.a)(Object(u.a)({},j),{},{time:t&&t.length>0?t[0].value:null,day:e}))},N=function(e){if(E){var t=[];return E.map((function(n){var a=function(e,t,n,a){var r=Object(m.c)(new Date,a);r.setHours(+e),r.setMinutes(+t);var c={hour:"numeric",minute:"numeric",hour12:!0},o=Object(m.c)(new Date,a);return n&&Object(m.o)(n.toLowerCase())?Object(l.a)(o,r)<0?{label:r.toLocaleString("en-US",c),value:"".concat(e,":").concat(Object(m.a)(t),":00")}:null:{label:r.toLocaleString("en-US",c),value:"".concat(e,":").concat(Object(m.a)(t),":00")}}(n.hour,n.minute,e,U);return a&&t.push(a),a?{value:a,label:a}:null})),t}};return Object(r.useEffect)((function(){D&&D.length&&(g(Object(i.a)(D.filter((function(e){return"AVAILABLE"===e.status})).map((function(e){var t=e.displayText;return{value:e.dayOfWeek.toLowerCase(),label:t}})))),!O.length&&j.day&&h(N()))}),[e]),Object(r.useEffect)((function(){if(b.length&&!j.day){var e=b.filter((function(e){return"Today"===e.label}))[0];e&&N(e.value).length&&S(e.value)}}),[b]),[j,b,O,function(e){C(Object(u.a)(Object(u.a)({},j),{},{time:e}))},S]},f=o.a.Option,b=function(e){e.user;var t=e.businessData,n=p(t),r=Object(a.a)(n,5),i=r[0],u=r[1],l=r[2],s=r[3],d=r[4];return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,{placeholder:"Day",value:i.day,defaultValue:i.day,onChange:d,className:"primary-text-picker"},u.map((function(e,t){var n=e.label,a=e.value;return c.a.createElement(f,{value:a,key:"day".concat(t)},n)}))),c.a.createElement(o.a,{placeholder:"Time",notFoundContent:c.a.createElement("div",null,"No options available please select another day"),value:i.time,defaultValue:i.time,onChange:s,className:"primary-text-picker"},l.map((function(e,t){var n=e.label,a=e.value;return c.a.createElement(f,{value:a,key:"timeOption".concat(t)},n)}))))}},167:function(e,t,n){e.exports=n(299)},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return l}));var a="cmx_UID",r={DISCOUNT:"discount",PROMOTION:"promotion",LOYALTY_STATUS:"loyaltyStatus",GROUP_DISCOUNT:"groupDiscount"},c={PERCENT:"PERCENT",EXACT:"EXACT",AMOUNT:"AMOUNT"},o={VANTIV_HID:"VANTIV_HID"},i={CALL_AHEAD:"CALL_AHEAD",CLOSED:"CLOSED"},u={NONE:"NONE",NOTIFICATION:"NOTIFICATION",HIGHLIGHTED_ITEM:"HIGHLIGHTED_ITEM",POLL:"POLL"},l="AIzaSyDon847P6x8IUl-pBwSMvvuZd3g2186uhQ"},20:function(e,t,n){"use strict";n.d(t,"n",(function(){return l})),n.d(t,"q",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"l",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"p",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"o",(function(){return y})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return h})),n.d(t,"k",(function(){return I})),n.d(t,"b",(function(){return j})),n.d(t,"g",(function(){return D})),n.d(t,"s",(function(){return C})),n.d(t,"r",(function(){return S})),n.d(t,"h",(function(){return N})),n.d(t,"m",(function(){return w}));var a=n(8),r=n(46),c=n(31),o=n.n(c),i=n(55),u=n(19),l=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===navigator.share){e.next=9;break}return e.prev=1,e.next=4,navigator.share(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("Share failed.");case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80;if("undefined"!==typeof window&&window.scrollTo&&e){var n=e.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:n-t,behavior:"smooth"})}},d=function(e){return 0===e?"00":e},m=function(){return URLSearchParams?new URLSearchParams(window.location.search):""},p=function(e){return e&&e[0]?e[0]:null},f=function(e){var t=e.city,n=(e.country,e.number),a=e.state,r=e.street,c=(e.timeZone,e.locale,e.zip);return"".concat(n," ").concat(r,", ").concat(t,", ").concat(a," ").concat(c)},b=function(e){var t=e.city,n=(e.country,e.number),a=e.state,r=e.street,c=(e.timeZone,e.locale,e.zip);return"".concat(n,"+").concat(r,"+").concat(t,"+").concat(a,"+").concat(c)},g=function(e){return e<10?"0"+e:e},v=function(e){return["sun","mon","tue","wed","thu","fri","sat"][e]},y=function(e){return e===v((new Date).getDay())},O=function(e,t){return new Date(e.toLocaleString("en-US",{timeZone:t}))},h=function(e){return parseFloat(e.toFixed(2))},I=function(e,t){return h(e*t/100)},j=function(e,t,n){switch(e){case u.b.PERCENT:var a=n-I(n,t);return a>0?a:0;case u.b.AMOUNT:return n>t&&n-t>0?n-t:0;case u.b.EXACT:return t}},E={itemId:1,itemVersion:1,priceId:1,quantity:1,comment:"",groupId:"",catalogId:"",intraOrderAssociationTag:null,intraOrderQuantity:null,wasCustomized:!1,customizedPrice:null,discountedPrice:null,serviceAccommodatorId:"",serviceLocationId:"",userSASLid:null,deliveryType:"PICK_UP",itemOptions:null,itemDate:null,status:"INITIALIZED",delayedFire:!1,hint:"",finalPriceCharged:0,compPrice:null,invoiceType:null,invoiceStatus:null,itemizedTax:null,ageVerified:null,cartEntryId:null,sentTimeToKitchen:null},D=function(e){var t=e.comment,n=(e.loyaltyStatus,e.items),c=e.itemsWithDiscounts,o=e.itemsWithGroupDiscounts,i=e.user,l=e.catalogId,s=e.serviceAccommodatorId,d=e.serviceLocationId,m=e.deliveryType,p=e.futureOrRegular,f=e.requestedDeliveryDate,b=e.subTotal,g=e.totalAmount,v=e.tipAmount,y=e.taxAmount,O=e.tablePath,h=e.transactionData,I={authorizations:null,discounts:null,promotions:null,loyaltyStatus:null};c&&Object.keys(c).length>0&&Object.keys(c).map((function(e){var t=c[e],n=(t.discountType,t.priceItem,Object(r.a)(t,["discountType","priceItem"]));I.discounts||(I.discounts=[]),I.discounts.push(n)})),o&&Object.keys(o).length>0&&Object.keys(o).map((function(e){switch(o[e].discountType){case u.c.GROUP_DISCOUNT:var t=o[e],n=(t.discountType,Object(r.a)(t,["discountType"]));I.discounts||(I.discounts=[]),I.discounts.push(n)}}));var j,D={};return h&&(D={paymentProcessor:(j=h).paymentProcessor,cashSelected:!1,creditCardSelected:!0,orderUUID:j.orderUUID,orderId:j.orderId,cyclicOrderIdInt:j.cyclicOrderId,transactionId1:j.hostedPaymentStatus,transactionId2:j.transactionID,transactionId3:j.expressResponseCode,transactionId4:j.expressResponseMessage,transactionId5:j.CVVResponseCode,transactionId6:j.approvalNumber,transactionId7:j.lastFour,transactionId8:j.cardLogo,transactionId9:j.approvedAmount}),Object(a.a)({userName:null,userLevel:null,adHoc:!1,tablePath:O,items:n.map((function(e){var t=e.itemId,n=e.itemVersion,r=(e.priceId,e.quantity),c=e.comments,o=e.groupId,i=e.itemOptions,u=e.price,m=e.discountedPrice;return Object(a.a)(Object(a.a)({},E),{},{itemId:t,finalPriceCharged:void 0!==m?m:u,discountedPrice:m,itemVersion:n&&"object"===typeof n?JSON.stringify(n):n,quantity:r,comment:c,groupId:o,itemOptionsString:i?JSON.stringify(i):null,catalogId:l,serviceAccommodatorId:s,serviceLocationId:d})})),authorizationsAndDiscounts:I,deliveryType:m,futureOrRegular:p,deliveryContactName:null,deliveryPhone:null,deliveryEmail:null,deliveryAddress:null,requestedDeliveryDate:f,orderType:"UNDEFINED",firstName:i?i.firstName:null,lastName:null,comment:t,orderId:null,cyclicOrderIdInt:null,orderUUID:null,tagORTableNumber:null,customerEnteredName:null,customerEnteredMobile:null,serviceAccommodatorId:s,serviceLocationId:d,pickupSelected:!0,deliverySelected:null,levelId:null,zoneId:null,tableId:null,pagerDetails:null,secretComment:null,stationId:null,subTotal:b||0,tipAmount:v?v.value:0,taxAmount:y||0,totalAmount:g||0,pricePaid:g?h?g:-Math.abs(g):0,invoicePaid:h?g:0,invoiceTotal:0,invoiceClaimed:0,compPrice:0,currencyCode:"USD",addExtraFeeToTotalAmount:!1,extraFeeLabel:null,extraFeeType:null,extraFeeValue:null,calculatedExtraFeeValue:null,v_acceptorId:null,v_accountId:null,v_accountToken:null,vantivReturnURL:null,vantivCSS:null,maskedAccountNumber:null,cardHolderName:null,invoiceId:null,paymentDetails1:null,paymentDetails2:null,paymentDetails3:null,paymentDetails4:null,paymentDetails5:null,transactionId1:null,transactionId2:null,transactionId3:null,transactionId4:null,transactionId5:null,transactionId6:null,transactionId7:null,transactionId8:null,transactionId9:null,transactionId10:null,transactionId11:null,transactionId12:null,transactionId13:null,transactionId14:null,transactionId15:null,transactionId16:null,transactionId17:null,transactionId18:null,transactionId19:null,transactionId20:null,saveCreditCardForFutureReference:null,fundSourceId:null,invoiceStatus:"UNDEFINED",cashSelected:!0,creditCardSelected:!1,creditCard:null,billingAddress:null,paymentProcessor:"UNDEFINED",cardReaderType:"UNDEFINED",taxRate:null,invoiceType:null,cashTendered:null,idAdhocOrderInvoiceParent:null,uid:i?i.uid:null},D)},U={promoCode:"",serviceAccommodatorId:null,serviceLocationId:null,activationDate:null,expirationDate:null,maxUseCount:1e6,discountUUID:null,item:null,type:u.b.PERCENT,discount:0,minimumPurchase:10,maximumDiscount:0,currencyCode:"USD",acceptablePaymentType:"CASH_OR_CREDIT",title:null,description:"",imageURL:null,imageWidth:null,imageHeight:null,applicableCatalog:null,applicableGroup:null,applicableItemId:null,applicableItemVersion:null,applicableePriceId:null,applicationType:"MANUAL_MULTI_USE",shareDiscountURL:null,onClickURL:null,qrCodeURL:null,policyString:null,applicableItemUUID:null,discountPurposeType:null,saslTimeZone:"America/Los_Angeles",timeZoneId:"America/Los_Angeles",discountState:{id:1,enumText:"ACTIVE",displayText:"Active"},userLevel:"DEFAULT"},C=function(e){return Object(a.a)(Object(a.a)({},U),{},{type:u.b.EXACT,priceItem:e.priceItem,discount:e.promoPrice,discountUUID:e.uuid,title:e.title,applicableItemUUID:e.priceItem?e.priceItem.uuid:null,serviceAccommodatorId:e.serviceAccommodatorId,serviceLocationId:e.serviceLocationId})},S=function(e){return Object(a.a)(Object(a.a)({},U),{},{type:u.b.EXACT,discount:e.promoPrice,discountUUID:e.loyaltyUUID,priceItem:e.priceItem,title:e.title,applicableItemUUID:e.priceItem?e.priceItem.uuid:null,serviceAccommodatorId:e.serviceAccommodatorId,serviceLocationId:e.serviceLocationId})},N=function(e){var t=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:null},T=function(e,t){(e||[]).map((function(e){return e.subSubItems.filter((function(e){return e.isSelected})).map((function(e){return t.push(e.subSubItemName)}))}))},w=function(e){var t=[];if(!e||"undefined"===typeof e)return null;T(e.subOptions,t),T(e.subItemsLeft,t),T(e.subItems,t);var n=t.join(", ");return n?"(".concat(n,")"):""}},223:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){},226:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},257:function(e,t,n){},258:function(e,t,n){},259:function(e,t,n){},260:function(e,t,n){},266:function(e,t,n){},267:function(e,t,n){},268:function(e,t,n){},269:function(e,t,n){},281:function(e,t,n){},290:function(e,t,n){},297:function(e,t,n){},298:function(e,t,n){},299:function(e,t,n){"use strict";n.r(t);var a,r=n(1),c=n.n(r),o=n(12),i=n.n(o),u=n(10),l=n(107),s=n(30),d=n(32),m=n(31),p=n.n(m),f=n(55),b=n(8),g=n(46),v=n(67),y=n(20),O=n(40),h=function(e){var t=[],n={},a={};return void 0!==e&&e&&e.length&&(t=e.filter((function(e){return"DISCOUNT_ONLY"!==e.groupType.enumText&&"ADHOC"!==e.groupType.enumText})).map((function(e,t){a[e.groupId]=e;var r=e.indexInCatalog,c=e.groupDisplayText,o=function(e,t){var n={};return{itemsArray:e.map((function(e){e.thumbnailBase64;var a=Object(g.a)(e,["thumbnailBase64"]);return a.canSplitLeftRight&&a.itemOptions&&a.itemOptions.subItems&&(a.itemOptions.subItemsLeft=a.itemOptions.subItems),a.quantity||(a.quantity=1),e.hasVersions&&e.itemVersions.length&&e.itemVersions.map((function(e){e.thumbnailBase64;var r=Object(g.a)(e,["thumbnailBase64"]);n[e.uuid]=Object(b.a)(Object(b.a)(Object(b.a)({},a),r),{},{groupId:t})})),n[e.uuid]=Object(b.a)(Object(b.a)({},a),{},{groupId:t}),Object(b.a)(Object(b.a)({},a),{},{groupId:t})})),itemsObject:n}}(e.unSubgroupedItems,e.groupId),i=o.itemsArray,u=o.itemsObject;return n=Object(b.a)(Object(b.a)({},n),u),{indexInCatalog:r,groupDisplayText:c,unSubgroupedItems:i}}))),{groups:t,groupsById:a,itemsById:n}},I=function(e){var t={};return e&&e.length&&e.map((function(e){t[e.enumText]=e.mobileDisplayText})),t},j=function(e,t){var n,a,r,c,o=null===t||void 0===t||null===(n=t.siteletteDataModel)||void 0===n?void 0:n.sasl,i=o.serviceAccommodatorId,u=o.serviceLocationId,l=o.saslName,s=o.themeColors,d=o.appleTouchIcon192URL,m=o.city,p=o.country,f=o.number,b=o.state,g=o.street,v=o.timeZone,j=o.locale,E=o.zip,D=o.discounts,U=o.promotions,C=o.services,S=o.latitude,N=o.longitude,T=o.ogTags,w=t.siteletteDataModel,A=w.serviceStatus,L=w.saBannerImageURL,k=w.defaultImageURL,P=w.futureDays,R=w.pickUpTimes,x=w.extraFees,_=w.loyaltyProgram,H=w.loyaltyProgramData,M=w.mobileOrderStatuses,F=w.openingHours,B=function(e){var t=e.filter((function(e){return!1===e.isValidOneDayOnly}));if(t&&t.length>0)return{hasGroupsBasedOnDay:!1,catalog:t[0]};var n=e.filter((function(e){return!0===e.isValidOneDayOnly}));if(n&&n.length>0){var a=n.filter((function(e){return e.validDay.toLowerCase()===Object(y.i)((new Date).getDay())}));if(a&&a.length>0)return{hasGroupsBasedOnDay:!0,catalog:a[0]}}}(t.catalogs),z=B.catalog,K=B.hasGroupsBasedOnDay,G=z.groups,V=z.isOpen,W=z.isOpenWarningMessage,q=z.catalogId,Z=null===C||void 0===C||null===(a=C.onlineOrder)||void 0===a?void 0:a.tips,Y={acceptCreditCards:null===(r=C.onlineOrder)||void 0===r?void 0:r.acceptCreditCards,paymentProcessor:null===(c=C.onlineOrder)||void 0===c?void 0:c.paymentProcessor},X={latitude:S,longitude:N},J={futureDays:P,pickUpTimes:R,isOpen:V,isOpenWarningMessage:W,address:{city:m,country:p,number:f,state:b,street:g,timeZone:v,locale:j,zip:E}},$=h(G),Q=$.groups,ee=$.groupsById,te=$.itemsById;return{openingHours:(null===F||void 0===F?void 0:F.shiftPolicies)?F.shiftPolicies:[],ogTags:T,serviceStatus:A.enumText?A.enumText:null,isDemo:O.b,mapCoordinates:X,mobileOrderStatuses:I(M),payment:Y,loyaltyProgram:_,loyaltyProgramData:H,promotions:U,discounts:D,tips:Z,extraFees:x,catalogId:q,serviceAccommodatorId:i,serviceLocationId:u,themeColors:s,urlKey:e,saslName:l,saslIcon:d,bannerImageURL:L,defaultImageURL:k,pickUp:J,groups:Q,groupsById:ee,itemsById:te,hasGroupsBasedOnDay:K,catalogs:t.catalogs}},E=Object(s.b)("business/getBusinessData",function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.b.getBusinessData(t);case 2:return n=e.sent,e.abrupt("return",j(t,n.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D=Object(s.c)({name:"business",initialState:{data:{isDemo:!1,catalogId:null,serviceAccommodatorId:null,serviceLocationId:null,urlKey:"",saslName:"",bannerImageURL:null,saslIcon:null,themeColors:null,serviceStatus:null,ogTags:null,openingHours:[],pickUp:{futureDays:[],pickUpTimes:[],isOpen:null,isOpenWarningMessage:null,address:{telephoneNumber:null,city:null,country:null,state:null,street:null,street2:"",timeZone:null,locale:null,zip:null}},payment:{acceptCreditCards:null,paymentProcessor:null},mapCoordinates:{latitude:null,longitude:null},extraFees:null,groups:[],groupsById:{},itemsById:null,hasGroupsBasedOnDay:!1,catalogs:[],mobileOrderStatuses:{},promotions:[],discounts:[],tips:[],defaultImageURL:null,loyaltyProgram:null,loyaltyProgramData:null},loading:!1,error:!1},reducers:{updateGroups:function(e,t){var n=h(t.payload);e.data.groups=n.groups,e.data.groupsById=n.groupsById,e.data.itemsById=n.itemsById},hydrateBusinessData:function(e,t){e.data=j(t.payload.businessUrlKey,t.payload.businessData),e.loading=!1}},extraReducers:(a={},Object(d.a)(a,E.pending,(function(e,t){e.loading=!0,e.error=!1})),Object(d.a)(a,E.fulfilled,(function(e,t){e.data=t.payload,e.loading=!1})),Object(d.a)(a,E.rejected,(function(e,t){e.error=t.error.message,e.loading=!1})),a)}),U=D.actions,C=U.updateGroups,S=U.hydrateBusinessData,N=D.reducer,T=n(65),w=n(84),A=n(54),L=Object(s.c)({name:"global-error",initialState:{errorMessage:null},reducers:{resetGlobalErrorMessage:function(e){e.errorMessage=null}},extraReducers:function(e){return e.addMatcher((function(e){return e.type.endsWith("rejected")}),(function(e,t){var n;e.errorMessage=null===t||void 0===t||null===(n=t.error)||void 0===n?void 0:n.message}))}}),k=L.actions.resetGlobalErrorMessage,P=L.reducer,R=Object(l.a)(Object(s.d)()),x=Object(s.a)({reducer:{business:N,auth:T.a,shoppingCart:A.k,loyaltyAndOrderHistory:w.a,globalError:P},middleware:R}),_=(n(193),n(135),n(196),n(200),n(203),n(205),n(207),n(209),n(211),n(213),n(215),n(217),n(219),n(221),n(223),n(224),n(34)),H=n(27),M=n(119),F=n(64),B=n.n(F),z=(n(226),n(121)),K=Object(r.memo)((function(e){var t=e.defaultImageURL,n=e.saslIcon,a=e.title,r=void 0===a?"":a;return c.a.createElement("div",{className:"hero"},c.a.createElement("img",{src:n,alt:"",className:"hero-icon"}),c.a.createElement(z.a,null,c.a.createElement("img",{src:t,alt:r,className:"hero-bg"})))}));K.propTypes={imageUrl:B.a.string,title:B.a.string,iconUrl:B.a.string};n(228);var G=n(52),V=Object(r.memo)((function(e){var t=e.name,n=e.title,a=(e.welcomeMessage,e.notification),r=a.notificationBody,o=a.imageURL;return c.a.createElement(G.a,{className:"greetings"},c.a.createElement("div",{className:"greetings-avatar",style:{backgroundImage:"url('".concat(o,"')")}}),c.a.createElement("div",{className:"greetings__content"},c.a.createElement("h4",{className:"greetings__content-title primary-text font-size-md"},"".concat(n," ").concat(t),"!"),r&&c.a.createElement("p",null,r)))})),W=n(11),q=n(306),Z=n(96),Y=n(97),X=n(150),J=n(120),$=(n(257),function(){return["sun","mon","tue","wed","thu","fri","sat"][(new Date).getDay()]}),Q=Object(r.memo)((function(e){var t,n,a=e.businessData,o=e.user,i=Object(r.useState)(1),u=Object(W.a)(i,2),l=u[0],s=u[1],d=Object(r.useState)("Open"),m=Object(W.a)(d,2),p=m[0],f=m[1],b=a.openingHours,g=a.pickUp,v=g.isOpenWarningMessage,O=(g.isOpen,g.address),h=null===a||void 0===a||null===(t=a.pickUp)||void 0===t||null===(n=t.address)||void 0===n?void 0:n.timeZone,I=Object(r.useState)(null),j=Object(W.a)(I,2),E=j[0],D=j[1],U=Object(J.a)(a),C=Object(W.a)(U,1)[0];return Object(r.useEffect)((function(){if(b&&D($()),C)return f("Closed");var e=null;if((b||[]).map((function(t,n){var a=t.weekDayPolicies;a[$()]&&(e=function(e,t){var n,a,r,c,o,i,u,l,s=Object(y.c)(new Date,t),d=Object(y.c)(new Date,t);return s.setHours(+(null===e||void 0===e||null===(n=e.timeRange)||void 0===n||null===(a=n.openingHours)||void 0===a?void 0:a.endClock.hour)),s.setMinutes(+(null===e||void 0===e||null===(r=e.timeRange)||void 0===r||null===(c=r.openingHours)||void 0===c?void 0:c.endClock.minute)),d.setHours(+(null===e||void 0===e||null===(o=e.timeRange)||void 0===o||null===(i=o.openingHours)||void 0===i?void 0:i.startClock.hour)),d.setMinutes(+(null===e||void 0===e||null===(u=e.timeRange)||void 0===u||null===(l=u.openingHours)||void 0===l?void 0:l.startClock.minute)),{close:s,open:d}}(a[$()],h))})),e){var t=Object(y.c)(new Date,h);f(Object(Y.a)(t,e.open)>=0&&Object(Y.a)(t,e.close)<=0?"Open":"Closed")}}),[b,C]),c.a.createElement(G.a,{className:"pickup"},c.a.createElement(q.a.Group,{onChange:function(e){return s(e.target.value)},value:l,className:"pickup-line delivery-type"},c.a.createElement(q.a,{value:1},"PickUp"),c.a.createElement(q.a,{value:2,disabled:!0},"Delivery")),c.a.createElement("div",{className:"pickup-line selectors"},c.a.createElement(X.a,{user:o,businessData:a})),c.a.createElement("div",{className:"pickup-line address"},c.a.createElement("span",{className:"primary-text"},c.a.createElement(Z.c,null))," ",c.a.createElement("span",null,Object(y.e)(O))),c.a.createElement("div",{className:"pickup-line address"},c.a.createElement("span",{className:"primary-text"},c.a.createElement(Z.a,null)," "),c.a.createElement("span",null,(b||[]).map((function(e,t){var n=e.weekDayPolicies;return c.a.createElement("div",{key:"openingHours".concat(t)},function(e){var t,n,a,r,c,o,i,u,l=null===e||void 0===e||null===(t=e.timeRange)||void 0===t||null===(n=t.openingHours)||void 0===n?void 0:n.startClock.minute,s=null===e||void 0===e||null===(a=e.timeRange)||void 0===a||null===(r=a.openingHours)||void 0===r?void 0:r.endClock.minute;return l=Object(y.a)(l),s=Object(y.a)(s),"".concat(null===e||void 0===e||null===(c=e.timeRange)||void 0===c||null===(o=c.openingHours)||void 0===o?void 0:o.startClock.hour,":").concat(l," to\n      ").concat(null===e||void 0===e||null===(i=e.timeRange)||void 0===i||null===(u=i.openingHours)||void 0===u?void 0:u.endClock.hour,":").concat(s,"\n      ")}(n[E]))}))),c.a.createElement("span",{className:"pickup-status primary-text"},p)),v&&c.a.createElement("div",{className:"pickup-line address"},c.a.createElement("span",null,v)))})),ee=(n(258),function(){return c.a.createElement("svg",{height:"30",width:"15"},c.a.createElement("path",{d:"M 0 0 l 0 10 l 5 5 l -5 5 l 0 10 l 15 -15 Z"}),"Sorry, your browser does not support inline SVG.")}),te=Object(r.memo)((function(e){var t=e.loyaltyAndOrderHistory.loyaltyForUser;if(!t||!t.hasLoyaltyProgram||!t.loyaltyStatus)return null;var n=t.loyaltyStatus,a=n.programName,r=n.itemName,o=n.currentCount,i=n.triggerCount,u=n.applyDiscount;return c.a.createElement(G.a,{className:"bg-primary loyalty"},c.a.createElement("h4",{className:"font-size-lg"},"My Rewards"),c.a.createElement("p",null,'"',a,'"'),c.a.createElement("div",{className:"loyalty__progress"},c.a.createElement("div",{className:"loyalty__progress-bar"},Array(i).fill(0).map((function(e,t){return c.a.createElement("div",{key:"loyaltyProgress".concat(t),className:"loyalty__progress-bar-block ".concat(t<o?"active":"")},c.a.createElement(ee,null))}))),c.a.createElement("div",{className:"loyalty__progress-item"},u?c.a.createElement("strong",null,r):r)))})),ne=n(303),ae=n(156),re=(n(259),n(260),function(e){e.itemId;var t=e.uuid,n=e.itemName,a=e.mediaURLs,r=e.shortDescription,o=e.longDescription,i=e.price,u=Object(H.i)().businessUrlKey,l=Object(H.h)().search,s={};return Object(y.j)(a)&&(s.backgroundImage="url('".concat(Object(y.j)(a),"')"),s.backgroundPosition="center"),c.a.createElement(_.b,{to:"/".concat(u,"/p/").concat(t).concat(l),className:"card group__product-card bg-secondary p-default"},c.a.createElement("div",{className:"group__product-card-image",style:s}),c.a.createElement("div",{className:"group__product-card-content"},c.a.createElement("div",{className:"group__product-card-title font-size-md"},c.a.createElement("h3",null,n),c.a.createElement("div",{className:"primary-text group__product-card-price"},"$",i)),c.a.createElement("div",{className:"group__product-card-description"},r||o)))}),ce=ne.a.TabPane;Object(ae.a)(".groups-tabs ",{noStyles:!0});var oe=Object(r.memo)((function(e){var t=e.groups,n=Object(r.useState)("1"),a=Object(W.a)(n,2),o=a[0],i=a[1],u=t.length&&t.length<4;return c.a.createElement("div",{className:"groups-tabs ".concat(u?"tabs-".concat(t.length,"-only"):"")},c.a.createElement(ne.a,{activeKey:o,onTabClick:function(e){var t=e.key;return i(t)}},(t||[]).map((function(e,t){var n=e.groupDisplayText,a=(e.id,e.unSubgroupedItems);return c.a.createElement(ce,{tab:n,key:t+1},(a||[]).map((function(e,n){return c.a.createElement(re,Object.assign({},e,{key:"product".concat(t).concat(n)}))})))}))))})),ie=Object(r.memo)((function(e){var t=e.urlKey,n=Object(H.h)().search;return c.a.createElement(G.a,null,c.a.createElement(_.b,{to:"/".concat(t,"/order-history").concat(n)},c.a.createElement("h4",{className:"font-size-lg"},"My Past Orders")))})),ue=n(301),le=(n(266),function(e){var t=e.itemsCount,n=e.price,a=Object(H.g)(),r=Object(H.h)().search,o=Object(H.i)().businessUrlKey;return c.a.createElement("div",{className:"footer-fixed-cart p-default"},c.a.createElement(ue.a,{type:"primary",size:"large",block:!0,className:"flex",onClick:function(){return a.push("/".concat(o,"/order-details").concat(r))}},c.a.createElement("span",{className:"footer-fixed-cart-items font-size-lg"},t," items in cart"),c.a.createElement("span",{className:"footer-fixed-cart-price font-size-lg"},"$",n)))}),se=(n(267),function(e){var t=e.loyaltyAndOrderHistory,n=null;t.orderHistory&&t.orderHistory.length&&(n=t.orderHistory[0]);var a=Object(H.g)(),r=Object(H.h)().search,o=Object(H.i)().businessUrlKey;return n&&"FULFILLED"!==n.orderStatus?c.a.createElement(G.a,{className:"last-order"},c.a.createElement(ue.a,{size:"large",onClick:function(){return a.push("/".concat(o,"/order-status/").concat(n.orderUUID).concat(r))},type:"primary",className:"track-last-order-btn"},"Track Last Order")):null}),de=n(19),me=function(e){var t=e.user,n=e.loyaltyAndOrderHistory||{},a=n.priority,r=n.notification;return c.a.createElement(c.a.Fragment,null,t&&(a===de.g.NONE||a===de.g.NOTIFICATION)&&r&&c.a.createElement(V,{notification:r,title:"Hello",name:t.firstName||"",welcomeMessage:t.welcomeMessage||""}))},pe=function(e){var t=e.loyaltyAndOrderHistory,n=e.businessData,a=e.user,r=e.shoppingCartItemsCount,o=e.shoppingCartPrice,i=n.groups,u=n.saslName,l=n.saslIcon,s=n.defaultImageURL,d=n.urlKey;return c.a.createElement(c.a.Fragment,null,c.a.createElement(K,{saslName:u,saslIcon:l,defaultImageURL:s}),c.a.createElement(M.a,null,c.a.createElement("div",{className:"greetings-wrapper"},c.a.createElement("div",{className:"greetings-wrapper-inner"},a&&t&&c.a.createElement(me,{user:a,loyaltyAndOrderHistory:t}),c.a.createElement(Q,{user:a,businessData:n}))),a&&t&&c.a.createElement(te,{loyaltyAndOrderHistory:t}),a&&t&&c.a.createElement(se,{loyaltyAndOrderHistory:t}),a&&c.a.createElement(ie,{urlKey:d}),c.a.createElement(oe,{groups:i}),r?c.a.createElement(le,{itemsCount:r,price:o}):null))},fe=function(e){var t=e.businessData,n=e.user,a=e.loyaltyAndOrderHistory,r=Object(u.c)((function(e){return e.shoppingCart.items})),o=Object(u.c)((function(e){return e.shoppingCart.priceSubTotal}));return c.a.createElement(pe,{shoppingCartItemsCount:null===r||void 0===r?void 0:r.length,shoppingCartPrice:o,user:n,businessData:t,loyaltyAndOrderHistory:a})},be=n(300),ge=n(71),ve=(n(268),function(e){var t=e.onBack,n=e.isHome;return c.a.createElement("div",{onClick:t,className:"action-icon"},n?c.a.createElement(ge.h,null):c.a.createElement(ge.d,null))}),ye=function(e){var t=e.title,n=e.isHome,a=void 0!==n&&n,r=e.onBack,o=e.bannerImageURL;e.themeColors;return c.a.createElement("header",{className:"page-header",id:"header"},c.a.createElement(ve,{onBack:r,isHome:a}),c.a.createElement("div",{className:"page-title"},o?c.a.createElement("img",{src:o,alt:t}):t))},Oe=n(308),he=(n(269),n(305)),Ie=n(160),je={path:"/order-history",title:"Order History",authRequired:!0},Ee={path:"/user-settings",title:"My Settings",authRequired:!0},De={path:"/terms-and-conditions",title:"Terms & Conditions"},Ue={path:"/help",title:"Help"},Ce=he.a.SubMenu,Se=function(e){var t=e.user,n=e.onClose,a=e.onLogout,r=Object(H.h)().search,o=[{title:"My Dash",icon:c.a.createElement(ge.c,null),subItems:[Object(b.a)(Object(b.a)({},je),{},{icon:c.a.createElement(ge.g,null)}),Object(b.a)(Object(b.a)({},Ee),{},{icon:c.a.createElement(ge.a,null)})],authRequired:!0},Object(b.a)({icon:c.a.createElement(ge.b,null)},De),Object(b.a)({icon:c.a.createElement(Z.b,null)},Ue),{icon:c.a.createElement(Ie.a,null),title:"Logout",authRequired:!0,onClickAction:function(){n(),a()}}],i=Object(H.i)().businessUrlKey;return c.a.createElement(he.a,{mode:"inline"},o.map((function(e,a){var o=e.title,u=e.path,l=e.icon,s=e.subItems,d=e.authRequired,m=e.onClickAction;if(d&&!t)return null;var p={};return p.onClick=m||n,s?c.a.createElement(Ce,{key:a,title:c.a.createElement("span",null,l,c.a.createElement("span",{className:"submenu-item-title"},o))},s.map((function(e,t){var o=e.title,u=e.path,l=e.icon;return c.a.createElement(he.a.Item,{key:"".concat(a).concat(t),icon:l,onClick:n},c.a.createElement(_.b,{to:"/".concat(i).concat(u).concat(r)},o))}))):c.a.createElement(he.a.Item,Object.assign({key:a,icon:l},p),u?c.a.createElement(_.b,{to:"/".concat(i).concat(u).concat(r)},o):o)})))},Ne=function(e){var t=e.open,n=(e.onOpen,e.onClose),a=e.user,r=e.onLogin,o=e.onLogout;return c.a.createElement("div",null,c.a.createElement(Oe.a,{width:300,title:"",placement:"left",closable:!0,onClose:n,visible:t,getContainer:!1,style:{position:"absolute"}},c.a.createElement("div",{className:"drawer-menu"},c.a.createElement(Se,{user:a,onLogout:o,onLogin:r,onClose:n}))))},Te=n(302),we=(n(279),n(281),function(){return c.a.createElement("div",{className:"page-loader"},c.a.createElement(Te.a,{size:"large"}))}),Ae=n(100),Le=(n(290),n(307)),ke=n(148),Pe=(n(297),function(){return c.a.createElement("div",{className:"page404"},c.a.createElement("h1",null,"404"),c.a.createElement("h3",null,"Page Not Found"))}),Re=function(e){var t=e.isHome,n=void 0!==t&&t,a=e.children;Object(r.useEffect)((function(){window.scrollTo(0,0)}),[]);var o=function(){var e=Object(H.i)().businessUrlKey,t=Object(H.g)(),n=Object(H.h)(),a=n.search,c=n.pathname,o=Object(r.useState)(!1),i=Object(W.a)(o,2),u=i[0],l=i[1];return[u,function(){return l(!0)},function(){return l(!1)},function(){return-1!==c.indexOf("shopping-cart")?t.push("/".concat(e,"/order-details").concat(a)):t.push("/".concat(e,"/").concat(a))}]}(),i=Object(W.a)(o,4),l=i[0],s=i[1],d=i[2],m=i[3],p=Object(Ae.a)(),f=Object(W.a)(p,2),g=f[0],v=f[1],O=function(){var e=Object(H.i)().businessUrlKey,t=Object(u.c)((function(e){return e.business.data})),n=Object(u.c)((function(e){return e.business.loading})),a=Object(u.c)((function(e){return e.business.error})),c=Object(u.c)((function(e){return e.shoppingCart.orderPickUp})),o=Object(u.b)(),i=Object(r.useState)(!1),l=Object(W.a)(i,2),s=l[0],d=l[1];return Object(r.useEffect)((function(){window.__SASL_DATA__&&void 0!==window.__SASL_DATA__&&e?o(S({businessData:window.__SASL_DATA__,businessUrlKey:e})):t.urlKey&&t.saslName&&t.groups||void 0===e||(console.log(e),o(E(e)).then((function(){d(!0),console.log("Business Data loaded.")})))}),[e]),Object(r.useEffect)((function(){if(s&&t.ogTags){var e=t.ogTags;e&&(document.title=e.title,document.querySelector('meta[property="og:title"]').setAttribute("content",e.title),document.querySelector('meta[property="og:description"]').setAttribute("content",e.description),document.querySelector('meta[name="description"]').setAttribute("content",e.description),console.log("CSR: Updated meta tags."),d(!1))}}),[s]),Object(r.useEffect)((function(){if(t.hasGroupsBasedOnDay&&c.day&&t.catalogs&&t.catalogs.length>0){var e=t.catalogs.filter((function(e){return e.validDay.toLowerCase()===c.day}));e&&e.length>0&&e[0].groups&&(o(C(e[0].groups)),o(Object(A.d)()))}}),[c]),[t,n,a]}(),h=Object(W.a)(O,3),I=h[0],j=h[1],D=h[2],U=Object(ke.a)(!0),N=Object(W.a)(U,2),T=N[0],w=N[1],L=I.saslName,P=I.bannerImageURL,R=I.themeColors;return function(e){var t=Object(H.h)().search,n=Object(u.b)(),a=Object(u.c)((function(e){return e.shoppingCart.discounts.byId})),c=Object(u.c)((function(e){return e.loyaltyAndOrderHistory.data})),o=function(t,a,r){var c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=a.applicableItemUUID,i=a.applicableGroup,u=e.itemsById;a&&o&&n(Object(A.b)({id:t,discount:Object(b.a)(Object(b.a)({},a),{},{discountType:r})})),a&&i&&n(Object(A.c)({id:i,discount:Object(b.a)(Object(b.a)({},a),{},{discountType:de.c.GROUP_DISCOUNT})})),o&&u[o]&&c&&(n(Object(A.a)(Object(b.a)({},u[o]))),Le.b.success("Success. Promo Item added to cart.",5))};Object(r.useEffect)((function(){if(e){var n=new URLSearchParams(t),r=n.get("t"),c=e.discounts,i=e.promotions;if(r){if("d"===r){var u=n.get("u");if(u&&c&&c.length>0&&!a[u]){var l=c.filter((function(e){return e.discountUUID===u}));l&&l.length>0&&o(u,l[0],de.c.DISCOUNT)}}if("p"===r){var s=n.get("u");if(s&&i&&i.length>0&&!a[s]){var d=i.filter((function(e){return e.uuid===s}));if(d&&d.length>0){var m=Object(y.s)(d[0]);m&&o(s,m,de.c.PROMOTION)}}}}}}),[e]),Object(r.useEffect)((function(){if(e&&c){var t,n=e.loyaltyProgram,r=e.serviceLocationId,i=e.serviceAccommodatorId,u=null===(t=c.loyaltyForUser)||void 0===t?void 0:t.loyaltyStatus;if(u){var l=u.applyDiscount,s=u.priceItem,d=u.loyaltyUUID,m=u.promoPrice;if(!a[d]&&d&&s.uuid&&void 0!==m&&l){var p=Object(y.r)(Object(b.a)(Object(b.a)({},u),{},{serviceAccommodatorId:i,serviceLocationId:r,title:n}));o(d,p,de.c.LOYALTY_STATUS,!1)}}}}),[e,c])}(I),function(){var e=Object(H.h)().search,t=Object(u.b)(),n=Object(u.c)((function(e){return e.shoppingCart.tablePath}));Object(r.useEffect)((function(){if(!n){var a=null,r=new URLSearchParams(e),c=r.get("t");c&&"t"===c&&(a=r.get("tableId"))&&(t(Object(A.j)(a)),Le.b.success("You are ordering for Table # ".concat(a),5))}}),[n])}(),function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.globalError.errorMessage})),n=Object(r.useState)(null),a=Object(W.a)(n,2),o=a[0],i=a[1];Object(r.useEffect)((function(){t?(Le.b.error(c.a.createElement("div",{onClick:function(){return e(k())}},"An error has occurred. ",c.a.createElement("br",null),c.a.createElement("br",null)," ",t),5,(function(){e(k()),i(null)})),i(!0)):o&&!t&&(Le.b.destroy(),i(null))}),[t])}(),j?c.a.createElement(we,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(ye,{themeColors:R,title:L,isHome:n,onBack:n?s:m,bannerImageURL:P}),c.a.createElement(Ne,{open:l,onOpen:s,onClose:d,user:T,onLogin:g,onLogout:v}),c.a.createElement("div",{className:"page-content ".concat(n?"":" single-page")},D?c.a.createElement(Pe,null):c.a.createElement(c.a.Fragment,null,c.a.cloneElement(a,{businessData:I,user:T,loyaltyAndOrderHistory:w}))))},xe=function(e){var t=e.component,n=e.user,a=Object(g.a)(e,["component","user"]),r=Object(be.a)(),o=Object(W.a)(r,1)[0];return c.a.createElement(H.b,Object.assign({},a,{render:function(e){return n||o[de.a]?c.a.createElement(Re,Object.assign({},a,e),c.a.createElement(t,Object.assign({},a,e))):c.a.createElement(H.a,{to:{pathname:"/".concat(e.match.params.businessUrlKey,"/login"),state:{from:e.location}}})}}))},_e=function(e){var t=e.component,n=Object(g.a)(e,["component"]);return c.a.createElement(H.b,Object.assign({},n,{render:function(e){return c.a.createElement(Re,Object.assign({},n,e),c.a.createElement(t,Object.assign({},n,e)))}}))},He=(n(298),n(112),function(){return c.a.createElement("div",{className:"success-payment"},c.a.createElement(Te.a,{size:"large"}))});var Me=function(){var e=Object(H.h)().search,t=Object(r.useState)(null),n=Object(W.a)(t,2),a=(n[0],n[1]);return Object(r.useEffect)((function(){var t=new URLSearchParams(e).get("HostedPaymentStatus");!function(){try{return window.self!==window.top}catch(e){return!0}}()||"Cancelled"!==t&&"Complete"!==t||(a(t),window.top.postMessage({error:!1,message:e},window.location.origin))}),[e]),c.a.createElement(G.a,{className:"redirect-container"},c.a.createElement(He,null))},Fe=function(){var e=Object(u.c)((function(e){return e.business.data})),t=e.saslName,n=e.bannerImageURL;e.themeColors;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ye,{title:t,isHome:!1,onBack:function(){},bannerImageURL:n}),c.a.createElement("div",{className:"page-content"}))},Be=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(7),n.e(8)]).then(n.bind(null,409))})),ze=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(16),n.e(13)]).then(n.bind(null,413))})),Ke=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(9)]).then(n.bind(null,405))})),Ge=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,406))})),Ve=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,407))})),We=Object(r.lazy)((function(){return Promise.all([n.e(6),n.e(15)]).then(n.bind(null,412))})),qe=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,408))})),Ze=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,417))})),Ye=function(e){var t=e.user;return c.a.createElement(_.a,null,c.a.createElement(r.Suspense,{fallback:c.a.createElement(Fe,null)},c.a.createElement(H.d,null,c.a.createElement(xe,{path:"/:businessUrlKey/order-history",user:t,component:ze}),c.a.createElement(xe,{path:"/:businessUrlKey/user-settings",user:t,component:Ve}),c.a.createElement(xe,{path:"/:businessUrlKey/order-status/:orderUUID",user:t,component:We}),c.a.createElement(_e,{path:"/:businessUrlKey/order-details",component:Be}),c.a.createElement(_e,{path:"/:businessUrlKey/sign-up",component:qe}),c.a.createElement(_e,{path:"/:businessUrlKey/login",component:Ze}),c.a.createElement(_e,{path:"/:businessUrlKey/shopping-cart/:itemIndex",component:Ge}),c.a.createElement(H.b,{path:"/:businessUrlKey/checkout-redirect",component:Me}),c.a.createElement(_e,{path:"/:businessUrlKey/p/:productId",component:Ke}),c.a.createElement(_e,{path:"/:businessUrlKey",isHome:!0,component:fe}))))};var Xe=function(){var e=Object(u.c)((function(e){return e.auth.user}));return c.a.createElement("div",{className:"".concat("default","-theme app")},c.a.createElement(Ye,{user:e}))},Je=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $e(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(u.a,{store:x},c.a.createElement(Xe,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Je?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$e(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):$e(t,e)}))}}()},40:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return u}));var a=n(152),r=n.n(a),c=n(20),o=Object(c.l)(),i=o.get("server"),u=o.get("demo"),l=o.has("throw")&&"true"===o.get("throw")?"throw=true":"",s="true"===u,d=i?"http://".concat(i):"https://".concat(s?"simfel.com":"communitylive.ws"),m=r.a.create({baseURL:d});m.interceptors.request.use((function(e){return e.url=-1!==e.url.indexOf("?")?"".concat(e.url,"&").concat(l):"".concat(e.url,"?").concat(l),e}),(function(e){return Promise.reject(e)})),m.interceptors.response.use((function(e){return e}),(function(e){var t,n,a;return Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||null===(a=n.error)||void 0===a?void 0:a.message)}))},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),r=n.n(a),c=(n(229),function(e){var t=e.children,n=e.className;return r.a.createElement("div",{className:"card p-default bg-secondary ".concat(n)},t)})},54:function(e,t,n){"use strict";n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"i",(function(){return O})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return I})),n.d(t,"j",(function(){return j})),n.d(t,"h",(function(){return E})),n.d(t,"k",(function(){return D}));var a=n(8),r=n(46),c=n(31),o=n.n(c),i=n(55),u=n(30),l=n(67),s=n(20),d={orderPickUp:{deliveryType:"PICK_UP"},tablePath:null,items:[],itemsWithDiscounts:[],priceSubTotal:0,discounts:{byId:{},allIds:[]},groupDiscounts:{byId:{},allIds:[]},loading:!1,error:!1},m=Object(u.b)("order/create",function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.c.createOrder(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=Object(u.c)({name:"shoppingCart",initialState:d,reducers:{setOrderPickUp:function(e,t){e.orderPickUp=t.payload},addCartItem:function(e,t){e.items.push(t.payload)},editCartItem:function(e,t){e.items[t.payload.itemIndex]=t.payload.item},deleteCartItem:function(e,t){e.items.splice(t.payload,1)},clearCart:function(e,t){e.items=[],e.priceSubTotal=0},addDiscount:function(e,t){e.discounts.byId[t.payload.id]=t.payload.discount,e.discounts.allIds.push(t.payload.id)},addGroupDiscount:function(e,t){e.groupDiscounts.byId[t.payload.id]=t.payload.discount,e.groupDiscounts.allIds.push(t.payload.id)},setTablePath:function(e,t){e.tablePath=t.payload},resetOrderError:function(e,t){e.error=!1}},extraReducers:function(e){return e.addCase(m.pending,(function(e,t){e.loading=!0,e.error=!1})).addCase(m.fulfilled,(function(e,t){d})).addCase(m.rejected,(function(e,t){e.loading=!1,e.error=!0})).addMatcher((function(e){return e.type.endsWith("CartItem")}),(function(e,t){var n=function(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t){var o=t.type,i=t.discount,u=t.title,l=t.discountUUID;if(t.priceItem&&t.priceItem.itemVersion!==e.itemVersion){e.discountUUID,e.discountedPrice,e.promoCodeTitle;var d=Object(r.a)(e,["discountUUID","discountedPrice","promoCodeTitle"]);return Object(a.a)({},d)}var m=function(){return c?!n[e.uuid]&&!Object.keys(n).length:!n[e.uuid]};if(m()){if(e.discountUUID||+e.quantity>1){if(+e.quantity>1){e.discountUUID,e.discountedPrice,e.promoCodeTitle;var p=Object(r.a)(e,["discountUUID","discountedPrice","promoCodeTitle"]);return Object(a.a)({},p)}return n[e.uuid]=t,Object(a.a)({},e)}return n[e.uuid]=t,Object(a.a)(Object(a.a)({},e),{},{price:e.price,discountedPrice:Object(s.b)(o,i,e.price),discountUUID:l,promoCodeTitle:u})}e.discountUUID,e.discountedPrice,e.promoCodeTitle;var f=Object(r.a)(e,["discountUUID","discountedPrice","promoCodeTitle"]);return Object(a.a)({},f)}return e};if(e.items&&e.items.length>0&&e.discounts.allIds.length>0){var c={};e.items=e.items.map((function(t,a){var r=Object.keys(e.discounts.byId).filter((function(n){return e.discounts.byId[n].applicableItemUUID===t.uuid}))[0],o=e.discounts.byId[r];return n(t,o,c)})),e.itemsWithDiscounts=c}if(e.items&&e.items.length>0&&e.groupDiscounts.allIds.length>0){var o={};e.items=e.items.map((function(t,a){var r=Object.keys(e.groupDiscounts.byId).filter((function(n){return e.groupDiscounts.byId[n].applicableGroup===t.groupId}))[0],c=e.groupDiscounts.byId[r];return n(t,c,o,!0)})),e.itemsWithGroupDiscounts=o}e.priceSubTotal=e.items.reduce((function(e,t){return e+(void 0!==t.discountedPrice?t.discountedPrice:t.price)*t.quantity}),0)}))}}),f=p.actions,b=f.addCartItem,g=f.editCartItem,v=f.deleteCartItem,y=f.clearCart,O=f.setOrderPickUp,h=f.addDiscount,I=f.addGroupDiscount,j=f.setTablePath,E=f.resetOrderError,D=p.reducer},65:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"a",(function(){return O}));var a,r=n(32),c=n(31),o=n.n(c),i=n(55),u=n(30),l=n(67),s=Object(u.b)("auth/login",function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.login(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=Object(u.b)("auth/registerNewMember",function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.registerNewMember(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=Object(u.b)("auth/updateEmailMobileNamesForUser",function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.updateEmailMobileNamesForUser(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(Object(u.b)("auth/getRegistrationStatus",function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.getRegistrationStatus(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(u.b)("auth/getCommunityExpressUserSASLSummary",function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.getCommunityExpressUserSASLSummary(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),f=Object(u.c)({name:"auth",initialState:{user:null,authenticationStatus:null,loading:!1,error:!1},reducers:{login:function(e,t){e.user=t.payload},logout:function(e,t){e.user=null,e.authenticationStatus=null},setAuthenticationStatus:function(e,t){e.authenticationStatus=t.payload}},extraReducers:(a={},Object(r.a)(a,s.pending,(function(e,t){e.loading=!0,e.error=!1})),Object(r.a)(a,s.fulfilled,(function(e,t){e.user=t.payload,e.loading=!1})),Object(r.a)(a,s.rejected,(function(e,t){e.error=t.error.message,e.loading=!1})),Object(r.a)(a,d.pending,(function(e,t){e.loading=!0,e.error=!1})),Object(r.a)(a,d.fulfilled,(function(e,t){e.user=t.payload,e.loading=!1})),Object(r.a)(a,d.rejected,(function(e,t){e.error=t.error.message,e.loading=!1})),Object(r.a)(a,m.pending,(function(e,t){e.loading=!0,e.error=!1})),Object(r.a)(a,m.fulfilled,(function(e,t){e.user=t.payload,e.loading=!1})),Object(r.a)(a,m.rejected,(function(e,t){e.error=t.error.message,e.loading=!1})),Object(r.a)(a,p.pending,(function(e,t){e.loading=!0,e.error=!1})),Object(r.a)(a,p.fulfilled,(function(e,t){e.user=t.payload,e.loading=!1})),Object(r.a)(a,p.rejected,(function(e,t){e.error=t.error.message,e.loading=!1})),a)}),b=f.actions,g=b.login,v=b.logout,y=b.setAuthenticationStatus,O=f.reducer},67:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return u}));var a=n(8),r=n(40),c={getBusinessData:function(e){return r.c.get("/apptsvc/rest/sasl/getCatalogAndSiteletteDataModelByURLkey",{params:{urlKey:e}})},getOpeningHours:function(e){return r.c.get("/apptsvc/rest/sasl/getOpeningHours",{params:e})}},o={login:function(e){return Object(r.c)({method:"post",headers:{"Content-Type":"application/json"},withCredentials:!0,url:"/apptsvc/rest/authentication/login",data:e})},getRegistrationStatus:function(e){return r.c.get("/apptsvc/rest/authentication/getRegistrationStatus",{params:e})},getCommunityExpressUserSASLSummary:function(e){return r.c.get("/apptsvc/rest/usersasl/getCommunityExpressUserSASLSummary",{params:e})},registerNewMember:function(e){return Object(r.c)({method:"post",headers:{"Content-Type":"application/json"},withCredentials:!0,url:"/apptsvc/rest/authentication/registerNewMemberViaPostBody",data:e})},updateEmailMobileNamesForUser:function(e){var t=e.credentials,n=e.user;return Object(r.c)({method:"put",headers:{"Content-Type":"application/json"},withCredentials:!0,url:"/apptsvc/rest/authentication/updateEmailMobileNamesForUser?UID=".concat(n.uid),data:t})}},i={createOrder:function(e){return Object(r.c)({method:"post",headers:{"Content-Type":"application/json"},withCredentials:!0,url:"/apptsvc/rest/retail/createAdhocOrderWeb?UID=".concat(e.uid),data:e})},getOrderStatus:function(e){return r.c.get("/apptsvc/rest/retail/retrieveOrderStatusData",{params:e})}},u={getTransactionSetupID:function(e){return Object(r.c)({method:"post",crossDomain:!0,url:"/apptsvc/rest/ext/vantivTransactionSetup2",data:Object(a.a)(Object(a.a)({},e),{},{demo:r.a&&"true"===r.a})})},getOrderStatus:function(e){return r.c.get("/apptsvc/rest/retail/retrieveOrderStatusData",{params:e})}}},84:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u}));var a=n(30),r=Object(a.c)({name:"loyaltyAndOrderHistory",initialState:{data:null,loading:!1,error:!1},reducers:{setLoyaltyAndOrderHistoryData:function(e,t){e.data=t.payload},resetData:function(e,t){e.data=null}}}),c=r.actions,o=c.setLoyaltyAndOrderHistoryData,i=c.resetData,u=r.reducer},99:function(e,t,n){"use strict";var a=n(11),r=n(300),c=n(19),o={domain:window.location.hostname,path:"/",expires:new Date((new Date).setFullYear((new Date).getFullYear()+1))};t.a=function(){var e=Object(r.a)([c.a]),t=Object(a.a)(e,3),n=t[0],i=t[1],u=t[2];return[n[c.a],function(e){i(c.a,e,o)},function(){u(c.a,o)}]}}},[[167,4,5]]]);
//# sourceMappingURL=main.d7dfcb67.chunk.js.map