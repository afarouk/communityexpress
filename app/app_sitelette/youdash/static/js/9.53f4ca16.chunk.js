(this["webpackJsonpyoudash-mobile-app"]=this["webpackJsonpyoudash-mobile-app"]||[]).push([[9],{310:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1),r=n.n(a),i=(n(311),function(e){var t=e.onSubmit,n=e.children,a=e.className,i=void 0===a?"":a;return r.a.createElement("form",{onSubmit:t,className:"form ".concat(i)},n)})},311:function(e,t,n){},316:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1),r=n.n(a),i=n(411),c=(n(317),i.a.TextArea),s=function(e){var t=e.value,n=e.placeholder,a=e.onTextChange;return r.a.createElement("div",{className:"comments bg-secondary"},r.a.createElement(c,{className:"bg-secondary",placeholder:n,multiple:!0,rows:4,value:t,onChange:a}))}},317:function(e,t,n){},319:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var a=n(11),r=n(8),i=n(1),c=n(63),s=function(e,t){var n=0,a=0,i=t.map((function(t){return t&&t.subSubItems&&t.subSubItems.length?Object(r.a)(Object(r.a)({},t),{},{subSubItems:t.subSubItems.map((function(t){if(t.versionPriceAdjustment&&t.versionPriceAdjustment.length>0){var r=t.versionPriceAdjustment.filter((function(t){return t.versionId===e}));r&&r.length>0&&t.priceAdjustment&&r[0].cost&&(t.isSelected&&(n+=t.priceAdjustment,a+=r[0].cost),t.priceAdjustment=r[0].cost)}else!t.versionPriceAdjustment&&t.priceAdjustment&&t.isSelected&&(n+=t.priceAdjustment,a+=t.priceAdjustment);return t}))}):t}));return{oldPriceDifference:n,newPriceDifference:a,items:i}};t.a=function(e){var t=Object(i.useState)(null),n=Object(a.a)(t,2),o=n[0],u=n[1];return Object(i.useEffect)((function(){e&&"undefined"!==typeof e&&u(Object(c.e)(e,(function(t){e.quantity||(t.quantity=1)})))}),[e]),[o,function(e,t,n,a,i,s,m){u(Object(c.e)(o,(function(c){if(m&&(c.itemOptions[t][e].subSubItems=c.itemOptions[t][e].subSubItems.map((function(e){if(e.priceAdjustment&&e.isSelected){var t=c.price-=e.priceAdjustment;c.price=t>=0?t:0}return Object(r.a)(Object(r.a)({},e),{},{isSelected:!1})}))),c.itemOptions[t][e].subSubItems[n][a]=s,i&&s)c.price+=i;else if(i&&!s){var o=c.price-=i;c.price=o>=0?o:0}var u=c.itemOptions[t][e],l=u.maxSubSubCount;u.minSubSubCount;if(l&&!m){var d=c.itemOptions[t][e].subSubItems.filter((function(e){return e.isSelected})).length;c.itemOptions[t][e].subSubItems=d===l?c.itemOptions[t][e].subSubItems.map((function(e){return e.isSelected?e:Object(r.a)(Object(r.a)({},e),{},{isDisabled:!0})})):c.itemOptions[t][e].subSubItems.map((function(e){return e.isDisabled?Object(r.a)(Object(r.a)({},e),{},{isDisabled:!1}):e}))}})))},function(){u(Object(c.e)(o,(function(e){e.quantity=e.quantity+1})))},function(){u(Object(c.e)(o,(function(e){e.quantity=e.quantity>1?e.quantity-1:1})))},function(e){u(Object(c.e)(o,(function(t){t.comments=e.target.value})))},function(e){u(Object(c.e)(o,(function(t){var n=t.itemVersions.filter((function(t){return t.itemVersion===e})),a=t.itemVersion,r=t.itemVersions.filter((function(e){return e.itemVersion===("object"===typeof a?a.versionId:a)}));if(r&&r.length>0&&n&&n.length>0){var i,c,o,u=r[0].price,m=n[0].price;t.price-=u,t.price+=m,t.itemVersion=n[0].itemVersion;var l=null===t||void 0===t||null===(i=t.itemOptions)||void 0===i?void 0:i.subOptions,d=null===t||void 0===t||null===(c=t.itemOptions)||void 0===c?void 0:c.subItems,p=null===t||void 0===t||null===(o=t.itemOptions)||void 0===o?void 0:o.subItemsLeft;if(l&&l.length){var b=s(e,l);t.itemOptions.subOptions=b.items,t.price-=b.oldPriceDifference,t.price+=b.newPriceDifference}if(d&&d.length){var f=s(e,d);t.itemOptions.subItems=f.items,t.price-=f.oldPriceDifference,t.price+=f.newPriceDifference}if(p&&p.length){var v=s(e,p);t.itemOptions.subItemsLeft=v.items,t.price-=v.oldPriceDifference,t.price+=v.newPriceDifference}}})))}]}},340:function(e,t,n){},341:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(1),r=n.n(a),i=n(306),c=n(119),s=function(e){var t=e.url,n=e.itemName;return r.a.createElement("img",{className:" product-image",src:t,alt:n})},o=function(e){var t=e.itemName,n=e.price,a=e.description;return r.a.createElement("div",{className:"product-description product-row"},r.a.createElement("div",{className:"product-title font-size-lg"},r.a.createElement("h4",{className:"primary-text"},t),r.a.createElement("h4",{className:"product-price"},n,"$")),r.a.createElement("div",{className:"product-description-text"},a))},u=(n(316),n(301)),m=n(403),l=n(342),d=n(71),p=n(20),b=function(e){var t=e.quantity,n=e.onQtyMinus,a=e.onQtyPlus,i=e.addToCart,c=e.isShoppingCart,s=e.preventOrdering,o={title:"YouDash French Bakery",text:"YouDash French Bakery - the best bakery in the world!",url:"https://youdash.co/french-bakery"};return r.a.createElement("div",{className:"product-order"},r.a.createElement("div",{className:"flex product-order__row"},r.a.createElement(u.a,{shape:"circle",onClick:function(){return Object(p.n)(o)},className:"product-order__share-btn font-size-md"},r.a.createElement(d.j,null)),r.a.createElement("div",{className:"product-order-counter"},r.a.createElement("span",{className:"product-order-counter-label font-size-sm"},"Quantity"),r.a.createElement(u.a,{type:"primary",shape:"circle",onClick:n},r.a.createElement(l.a,null)),r.a.createElement("span",{className:"primary-text product-order-counter-quantity"},t),r.a.createElement(u.a,{type:"primary",shape:"circle",onClick:a},r.a.createElement(l.b,null)))),s&&r.a.createElement(m.a,{message:"Business doesn't accept orders at this moment.",type:"warning",showIcon:!0}),r.a.createElement(u.a,{className:"font-size-md",type:"primary",block:!0,size:"large",disabled:!t||s,onClick:i},c?"Apply changes":"Add to cart"))},f=n(415),v=function(e){var t=e.title,n=e.promptText,a=e.addOns,c=e.parentPropName,s=e.parentPropIndex,o=e.onCheckboxChange,u=e.selectorType,m=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];o(s,c,e,"isSelected",t,n.target.checked,a)};return r.a.createElement("div",{className:"product-row bg-secondary"},r.a.createElement("h4",{className:"font-size-md"},t),n&&r.a.createElement("h5",{className:"font-size-sm"},n),"CHECKBOX"===u&&r.a.createElement("div",{className:"addons-row"},(a||[]).map((function(e,t){var n=e.subSubItemName,a=(e.id,e.isSelected),i=e.isDisabled,o=e.priceAdjustment;return r.a.createElement("div",{key:"".concat(c).concat(s).concat(t),className:"choice"},r.a.createElement(f.a,{disabled:i,onChange:function(e){return m(t,o,e)},checked:a},r.a.createElement("span",{className:"addon-label addon-label-checkbox font-size-sm"},n,o?r.a.createElement("span",{className:"addon-label-checkbox__price font-size-xs"},"($",o,")"):null)))}))),"RADIO"===u&&r.a.createElement("div",{className:"addons-row"},r.a.createElement("div",{className:"preferences"},a.map((function(e,t){var n=e.subSubItemName,a=(e.id,e.isSelected),o=e.isDisabled,u=e.priceAdjustment;return r.a.createElement("div",{key:"".concat(c).concat(s).concat(t),className:"choice"},r.a.createElement(i.a,{disabled:o,value:t,checked:a,onChange:function(e){return m(t,u,e,!0)}},r.a.createElement("span",{className:"addon-label font-size-sm"},n,u?r.a.createElement("span",{className:"addon-label-checkbox__price font-size-xs"},"($",u,")"):null)))})))))},h=function(e){var t=e.subItems,n=e.onCheckboxChange,a=e.parentPropName;return(t||[]).map((function(e,t){return e.selectorType?r.a.createElement(v,{maxSubSubCount:e.maxSubSubCount,minSubSubCount:e.minSubSubCount,selectorType:e.selectorType,parentPropName:a,parentPropIndex:t,onCheckboxChange:n,title:e.subItemName,promptText:e.promptText,addOns:e.subSubItems,key:"".concat(a).concat(t)}):null}))},E=n(121),O=n(52),y=(n(340),function(e){var t=e.side,n=void 0===t?"left":t;return r.a.createElement("h4",{className:"submenu-items-side-header submenu-items-side-header-".concat(n)},r.a.createElement("span",{className:"font-size-md"},n," side options")," ",r.a.createElement("span",{className:"options-circle"}))}),g=(n(310),function(e){var t,n,a,u=e.productItem,m=e.onQtyPlus,l=e.onQtyMinus,d=e.onCheckboxChange,f=e.addToCart,v=e.isShoppingCart,g=void 0!==v&&v,N=(e.onTextChange,e.onItemVersionChange),j=e.preventOrdering,C=u.mediaURLs,S=u.itemName,I=u.price,x=u.shortDescription,k=u.longDescription,P=(u.comments,u.canSplitLeftRight),D=null===u||void 0===u||null===(t=u.itemOptions)||void 0===t?void 0:t.subOptions,V=null===u||void 0===u||null===(n=u.itemOptions)||void 0===n?void 0:n.subItems,A=null===u||void 0===u||null===(a=u.itemOptions)||void 0===a?void 0:a.subItemsLeft,w=u.itemVersion&&"object"===typeof u.itemVersion?u.itemVersion.itemVersion:u.itemVersion,T=P&&V&&A;return r.a.createElement(c.a,null,u&&r.a.createElement(O.a,{className:"product"},r.a.createElement(E.a,null,r.a.createElement(s,{url:Object(p.j)(C),itemName:S})),r.a.createElement("div",{className:"p-default product-card__wrapper"},r.a.createElement(o,{itemName:S,description:k||x,price:I}),u.hasVersions&&u.itemVersions&&u.itemVersions.length>0&&r.a.createElement("div",{className:"product-card__item-versions"},r.a.createElement(i.a.Group,{onChange:function(e){return N(e.target.value)},value:w},u.itemVersions.map((function(e,t){var n=e.itemVersion,a=e.version1DisplayText;return r.a.createElement(i.a,{key:"itemVersion".concat(t),value:n},a)})))),r.a.createElement(h,{subItems:D,onCheckboxChange:d,parentPropName:"subOptions"}),T&&r.a.createElement(y,{side:"left"}),r.a.createElement(h,{subItems:A,onCheckboxChange:d,parentPropName:"subItemsLeft"}),T&&r.a.createElement(y,{side:"right"}),r.a.createElement(h,{subItems:V,onCheckboxChange:d,parentPropName:"subItems"}),r.a.createElement(b,{preventOrdering:j,quantity:u.quantity,onQtyPlus:m,onQtyMinus:l,addToCart:f,isShoppingCart:g}))))})},405:function(e,t,n){"use strict";n.r(t);var a=n(11),r=n(1),i=n.n(r),c=n(27),s=n(341),o=n(319),u=n(54),m=n(10),l=n(120);t.default=function(e){var t=e.businessData,n=Object(l.a)(t),r=Object(a.a)(n,1)[0],d=null,p=Object(c.h)().search,b=Object(c.i)(),f=b.businessUrlKey,v=b.productId,h=Object(c.g)(),E=Object(m.b)(),O=null===t||void 0===t?void 0:t.itemsById;O&&v?d=O[v]:!O||O[v];var y=Object(o.a)(d),g=Object(a.a)(y,6),N=g[0],j=g[1],C=g[2],S=g[3],I=g[4],x=g[5];return N?i.a.createElement(s.a,{preventOrdering:r,productItem:N,onCheckboxChange:j,onTextChange:I,onQtyPlus:C,onQtyMinus:S,addToCart:function(){E(Object(u.a)(N)),h.push("/".concat(f,"/order-details").concat(p))},onItemVersionChange:x}):null}}}]);
//# sourceMappingURL=9.53f4ca16.chunk.js.map